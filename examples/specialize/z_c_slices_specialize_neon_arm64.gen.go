//go:build !noasm && arm64
// Code generated by hwygen -c. DO NOT EDIT.

package specialize

import (
	"unsafe"

	"github.com/ajroetker/go-highway/hwy"
	"github.com/ajroetker/go-highway/examples/specialize/asm"
)

func init() {
	initSpecializeNeonCAsm()
}

func initSpecializeNeonCAsm() {
	if hwy.NoSimdEnv() {
		return
	}
	MulAddFloat32 = mulAddAsmF32
	MulAddFloat64 = mulAddAsmF64
	if hwy.HasARMFP16() {
		MulAddFloat16 = mulAddAsmF16
	}
	if hwy.HasARMBF16() {
		MulAddBFloat16 = mulAddAsmBF16
	}
}

func mulAddAsmF16(x, y, out []hwy.Float16) {
	var p_x unsafe.Pointer
	if len(x) > 0 {
		p_x = unsafe.Pointer(&x[0])
	}
	var p_y unsafe.Pointer
	if len(y) > 0 {
		p_y = unsafe.Pointer(&y[0])
	}
	var p_out unsafe.Pointer
	if len(out) > 0 {
		p_out = unsafe.Pointer(&out[0])
	}
	lenVal := int64(len(x))
	asm.MulAdd_F16(
		p_x,
		p_y,
		p_out,
		unsafe.Pointer(&lenVal),
	)
}

func mulAddAsmBF16(x, y, out []hwy.BFloat16) {
	var p_x unsafe.Pointer
	if len(x) > 0 {
		p_x = unsafe.Pointer(&x[0])
	}
	var p_y unsafe.Pointer
	if len(y) > 0 {
		p_y = unsafe.Pointer(&y[0])
	}
	var p_out unsafe.Pointer
	if len(out) > 0 {
		p_out = unsafe.Pointer(&out[0])
	}
	lenVal := int64(len(x))
	asm.MulAdd_BF16(
		p_x,
		p_y,
		p_out,
		unsafe.Pointer(&lenVal),
	)
}

func mulAddAsmF32(x, y, out []float32) {
	var p_x unsafe.Pointer
	if len(x) > 0 {
		p_x = unsafe.Pointer(&x[0])
	}
	var p_y unsafe.Pointer
	if len(y) > 0 {
		p_y = unsafe.Pointer(&y[0])
	}
	var p_out unsafe.Pointer
	if len(out) > 0 {
		p_out = unsafe.Pointer(&out[0])
	}
	lenVal := int64(len(x))
	asm.MulAdd_F32(
		p_x,
		p_y,
		p_out,
		unsafe.Pointer(&lenVal),
	)
}

func mulAddAsmF64(x, y, out []float64) {
	var p_x unsafe.Pointer
	if len(x) > 0 {
		p_x = unsafe.Pointer(&x[0])
	}
	var p_y unsafe.Pointer
	if len(y) > 0 {
		p_y = unsafe.Pointer(&y[0])
	}
	var p_out unsafe.Pointer
	if len(out) > 0 {
		p_out = unsafe.Pointer(&out[0])
	}
	lenVal := int64(len(x))
	asm.MulAdd_F64(
		p_x,
		p_y,
		p_out,
		unsafe.Pointer(&lenVal),
	)
}

