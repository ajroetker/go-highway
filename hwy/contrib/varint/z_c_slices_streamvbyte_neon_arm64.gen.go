//go:build !noasm && arm64
// Code generated by hwygen -c. DO NOT EDIT.

package varint

import (
	"unsafe"

	"github.com/ajroetker/go-highway/hwy"
	"github.com/ajroetker/go-highway/hwy/contrib/varint/asm"
)

func init() {
	initStreamvbyteNeonCAsm()
}

func initStreamvbyteNeonCAsm() {
	if hwy.NoSimdEnv() {
		return
	}
	DecodeStreamVByte32GroupSIMD = decodeStreamVByte32GroupSIMDAsmU8
	EncodeStreamVByte32Group = encodeStreamVByte32GroupAsmU32
}

func decodeStreamVByte32GroupSIMDAsmU8(ctrl byte, data []uint8, dst []uint32) int {
	var p_data unsafe.Pointer
	if len(data) > 0 {
		p_data = unsafe.Pointer(&data[0])
	}
	var p_dst unsafe.Pointer
	if len(dst) > 0 {
		p_dst = unsafe.Pointer(&dst[0])
	}
	ctrlVal := int64(ctrl)
	len_dataVal := int64(len(data))
	len_dstVal := int64(len(dst))
	var out_result int64
	asm.DecodeStreamVByte32GroupSIMD_U8(
		unsafe.Pointer(&ctrlVal),
		p_data,
		p_dst,
		unsafe.Pointer(&len_dataVal),
		unsafe.Pointer(&len_dstVal),
		unsafe.Pointer(&out_result),
	)
	return int(out_result)
}

func encodeStreamVByte32GroupAsmU32(values []uint32, dst []uint8) (byte, int) {
	var p_values unsafe.Pointer
	if len(values) > 0 {
		p_values = unsafe.Pointer(&values[0])
	}
	var p_dst unsafe.Pointer
	if len(dst) > 0 {
		p_dst = unsafe.Pointer(&dst[0])
	}
	lenVal := int64(len(values))
	var out_ctrl int64
	var out_n int64
	asm.EncodeStreamVByte32Group_U32(
		p_values,
		p_dst,
		unsafe.Pointer(&lenVal),
		unsafe.Pointer(&out_ctrl),
		unsafe.Pointer(&out_n),
	)
	return byte(out_ctrl), int(out_n)
}

