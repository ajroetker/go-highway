// Code generated by hwygen. DO NOT EDIT.

package varint

import (
	"github.com/ajroetker/go-highway/hwy"
)

func BaseFindVarintEnds_fallback(src []byte) uint32 {
	if len(src) == 0 {
		return 0
	}
	n := min(len(src), 32)
	lanes := hwy.MaxLanes[uint8]()
	var mask uint32
	for i := 0; i < n; i += lanes {
		remaining := min(lanes, n-i)
		v := hwy.Load(src[i : i+remaining])
		highBitMask := hwy.TestBit(v, 7)
		for j := 0; j < remaining; j++ {
			if !highBitMask.GetBit(j) {
				mask |= 1 << uint(i+j)
			}
		}
	}
	return mask
}
