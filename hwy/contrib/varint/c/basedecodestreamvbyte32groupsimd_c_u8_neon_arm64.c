// Generated by hwygen -c (AST translator). DO NOT EDIT.
// BaseDecodeStreamVByte32GroupSIMD for NEON uint8

#ifndef GOAT_PARSER
#include <arm_neon.h>
#endif

#ifndef GOAT_PARSER
static inline unsigned int neon_bits_from_mask_u8(uint8x16_t v) {
    // Extract one bit per byte from a NEON mask vector using volatile stack spill.
    // v has 0xFF (true) or 0x00 (false) per byte lane.
    // This avoids static const data that GOAT may not relocate properly.
    volatile unsigned char tmp[16];
    vst1q_u8((unsigned char *)tmp, v);
    unsigned int mask = 0;
    int i;
    for (i = 0; i < 16; i++) {
        if (tmp[i]) mask |= (1u << i);
    }
    return mask;
}

#endif

#ifndef GOAT_PARSER
static long decodeGroupScalarInto(long ctrl, unsigned char *data, unsigned int *dst, long len_data, long len_dst) {
    long pos = 0;
    #pragma clang loop vectorize(disable) interleave(disable)
    for (long i = 0; i < 4; i++) {
        long length = (long)(((ctrl >> (i * 2)) & 0x3) + 1);
        if (pos + length > len_data) {
            return 0;
        }
        unsigned int v = 0;
        dst[i] = v;
        pos += length;
    }
    return pos;
}
#endif

static const unsigned char streamVByte32DataLen[256] = { 4, 5, 6, 7, 5, 6, 7, 8, 6, 7, 8, 9, 7, 8, 9, 10, 5, 6, 7, 8, 6, 7, 8, 9, 7, 8, 9, 10, 8, 9, 10, 11, 6, 7, 8, 9, 7, 8, 9, 10, 8, 9, 10, 11, 9, 10, 11, 12, 7, 8, 9, 10, 8, 9, 10, 11, 9, 10, 11, 12, 10, 11, 12, 13, 5, 6, 7, 8, 6, 7, 8, 9, 7, 8, 9, 10, 8, 9, 10, 11, 6, 7, 8, 9, 7, 8, 9, 10, 8, 9, 10, 11, 9, 10, 11, 12, 7, 8, 9, 10, 8, 9, 10, 11, 9, 10, 11, 12, 10, 11, 12, 13, 8, 9, 10, 11, 9, 10, 11, 12, 10, 11, 12, 13, 11, 12, 13, 14, 6, 7, 8, 9, 7, 8, 9, 10, 8, 9, 10, 11, 9, 10, 11, 12, 7, 8, 9, 10, 8, 9, 10, 11, 9, 10, 11, 12, 10, 11, 12, 13, 8, 9, 10, 11, 9, 10, 11, 12, 10, 11, 12, 13, 11, 12, 13, 14, 9, 10, 11, 12, 10, 11, 12, 13, 11, 12, 13, 14, 12, 13, 14, 15, 7, 8, 9, 10, 8, 9, 10, 11, 9, 10, 11, 12, 10, 11, 12, 13, 8, 9, 10, 11, 9, 10, 11, 12, 10, 11, 12, 13, 11, 12, 13, 14, 9, 10, 11, 12, 10, 11, 12, 13, 11, 12, 13, 14, 12, 13, 14, 15, 10, 11, 12, 13, 11, 12, 13, 14, 12, 13, 14, 15, 13, 14, 15, 16 };

static const unsigned char streamVByte32ShuffleMasks[256][16] = {
    { 0, 255, 255, 255, 1, 255, 255, 255, 2, 255, 255, 255, 3, 255, 255, 255 },
    { 0, 1, 255, 255, 2, 255, 255, 255, 3, 255, 255, 255, 4, 255, 255, 255 },
    { 0, 1, 2, 255, 3, 255, 255, 255, 4, 255, 255, 255, 5, 255, 255, 255 },
    { 0, 1, 2, 3, 4, 255, 255, 255, 5, 255, 255, 255, 6, 255, 255, 255 },
    { 0, 255, 255, 255, 1, 2, 255, 255, 3, 255, 255, 255, 4, 255, 255, 255 },
    { 0, 1, 255, 255, 2, 3, 255, 255, 4, 255, 255, 255, 5, 255, 255, 255 },
    { 0, 1, 2, 255, 3, 4, 255, 255, 5, 255, 255, 255, 6, 255, 255, 255 },
    { 0, 1, 2, 3, 4, 5, 255, 255, 6, 255, 255, 255, 7, 255, 255, 255 },
    { 0, 255, 255, 255, 1, 2, 3, 255, 4, 255, 255, 255, 5, 255, 255, 255 },
    { 0, 1, 255, 255, 2, 3, 4, 255, 5, 255, 255, 255, 6, 255, 255, 255 },
    { 0, 1, 2, 255, 3, 4, 5, 255, 6, 255, 255, 255, 7, 255, 255, 255 },
    { 0, 1, 2, 3, 4, 5, 6, 255, 7, 255, 255, 255, 8, 255, 255, 255 },
    { 0, 255, 255, 255, 1, 2, 3, 4, 5, 255, 255, 255, 6, 255, 255, 255 },
    { 0, 1, 255, 255, 2, 3, 4, 5, 6, 255, 255, 255, 7, 255, 255, 255 },
    { 0, 1, 2, 255, 3, 4, 5, 6, 7, 255, 255, 255, 8, 255, 255, 255 },
    { 0, 1, 2, 3, 4, 5, 6, 7, 8, 255, 255, 255, 9, 255, 255, 255 },
    { 0, 255, 255, 255, 1, 255, 255, 255, 2, 3, 255, 255, 4, 255, 255, 255 },
    { 0, 1, 255, 255, 2, 255, 255, 255, 3, 4, 255, 255, 5, 255, 255, 255 },
    { 0, 1, 2, 255, 3, 255, 255, 255, 4, 5, 255, 255, 6, 255, 255, 255 },
    { 0, 1, 2, 3, 4, 255, 255, 255, 5, 6, 255, 255, 7, 255, 255, 255 },
    { 0, 255, 255, 255, 1, 2, 255, 255, 3, 4, 255, 255, 5, 255, 255, 255 },
    { 0, 1, 255, 255, 2, 3, 255, 255, 4, 5, 255, 255, 6, 255, 255, 255 },
    { 0, 1, 2, 255, 3, 4, 255, 255, 5, 6, 255, 255, 7, 255, 255, 255 },
    { 0, 1, 2, 3, 4, 5, 255, 255, 6, 7, 255, 255, 8, 255, 255, 255 },
    { 0, 255, 255, 255, 1, 2, 3, 255, 4, 5, 255, 255, 6, 255, 255, 255 },
    { 0, 1, 255, 255, 2, 3, 4, 255, 5, 6, 255, 255, 7, 255, 255, 255 },
    { 0, 1, 2, 255, 3, 4, 5, 255, 6, 7, 255, 255, 8, 255, 255, 255 },
    { 0, 1, 2, 3, 4, 5, 6, 255, 7, 8, 255, 255, 9, 255, 255, 255 },
    { 0, 255, 255, 255, 1, 2, 3, 4, 5, 6, 255, 255, 7, 255, 255, 255 },
    { 0, 1, 255, 255, 2, 3, 4, 5, 6, 7, 255, 255, 8, 255, 255, 255 },
    { 0, 1, 2, 255, 3, 4, 5, 6, 7, 8, 255, 255, 9, 255, 255, 255 },
    { 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 255, 255, 10, 255, 255, 255 },
    { 0, 255, 255, 255, 1, 255, 255, 255, 2, 3, 4, 255, 5, 255, 255, 255 },
    { 0, 1, 255, 255, 2, 255, 255, 255, 3, 4, 5, 255, 6, 255, 255, 255 },
    { 0, 1, 2, 255, 3, 255, 255, 255, 4, 5, 6, 255, 7, 255, 255, 255 },
    { 0, 1, 2, 3, 4, 255, 255, 255, 5, 6, 7, 255, 8, 255, 255, 255 },
    { 0, 255, 255, 255, 1, 2, 255, 255, 3, 4, 5, 255, 6, 255, 255, 255 },
    { 0, 1, 255, 255, 2, 3, 255, 255, 4, 5, 6, 255, 7, 255, 255, 255 },
    { 0, 1, 2, 255, 3, 4, 255, 255, 5, 6, 7, 255, 8, 255, 255, 255 },
    { 0, 1, 2, 3, 4, 5, 255, 255, 6, 7, 8, 255, 9, 255, 255, 255 },
    { 0, 255, 255, 255, 1, 2, 3, 255, 4, 5, 6, 255, 7, 255, 255, 255 },
    { 0, 1, 255, 255, 2, 3, 4, 255, 5, 6, 7, 255, 8, 255, 255, 255 },
    { 0, 1, 2, 255, 3, 4, 5, 255, 6, 7, 8, 255, 9, 255, 255, 255 },
    { 0, 1, 2, 3, 4, 5, 6, 255, 7, 8, 9, 255, 10, 255, 255, 255 },
    { 0, 255, 255, 255, 1, 2, 3, 4, 5, 6, 7, 255, 8, 255, 255, 255 },
    { 0, 1, 255, 255, 2, 3, 4, 5, 6, 7, 8, 255, 9, 255, 255, 255 },
    { 0, 1, 2, 255, 3, 4, 5, 6, 7, 8, 9, 255, 10, 255, 255, 255 },
    { 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 255, 11, 255, 255, 255 },
    { 0, 255, 255, 255, 1, 255, 255, 255, 2, 3, 4, 5, 6, 255, 255, 255 },
    { 0, 1, 255, 255, 2, 255, 255, 255, 3, 4, 5, 6, 7, 255, 255, 255 },
    { 0, 1, 2, 255, 3, 255, 255, 255, 4, 5, 6, 7, 8, 255, 255, 255 },
    { 0, 1, 2, 3, 4, 255, 255, 255, 5, 6, 7, 8, 9, 255, 255, 255 },
    { 0, 255, 255, 255, 1, 2, 255, 255, 3, 4, 5, 6, 7, 255, 255, 255 },
    { 0, 1, 255, 255, 2, 3, 255, 255, 4, 5, 6, 7, 8, 255, 255, 255 },
    { 0, 1, 2, 255, 3, 4, 255, 255, 5, 6, 7, 8, 9, 255, 255, 255 },
    { 0, 1, 2, 3, 4, 5, 255, 255, 6, 7, 8, 9, 10, 255, 255, 255 },
    { 0, 255, 255, 255, 1, 2, 3, 255, 4, 5, 6, 7, 8, 255, 255, 255 },
    { 0, 1, 255, 255, 2, 3, 4, 255, 5, 6, 7, 8, 9, 255, 255, 255 },
    { 0, 1, 2, 255, 3, 4, 5, 255, 6, 7, 8, 9, 10, 255, 255, 255 },
    { 0, 1, 2, 3, 4, 5, 6, 255, 7, 8, 9, 10, 11, 255, 255, 255 },
    { 0, 255, 255, 255, 1, 2, 3, 4, 5, 6, 7, 8, 9, 255, 255, 255 },
    { 0, 1, 255, 255, 2, 3, 4, 5, 6, 7, 8, 9, 10, 255, 255, 255 },
    { 0, 1, 2, 255, 3, 4, 5, 6, 7, 8, 9, 10, 11, 255, 255, 255 },
    { 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 255, 255, 255 },
    { 0, 255, 255, 255, 1, 255, 255, 255, 2, 255, 255, 255, 3, 4, 255, 255 },
    { 0, 1, 255, 255, 2, 255, 255, 255, 3, 255, 255, 255, 4, 5, 255, 255 },
    { 0, 1, 2, 255, 3, 255, 255, 255, 4, 255, 255, 255, 5, 6, 255, 255 },
    { 0, 1, 2, 3, 4, 255, 255, 255, 5, 255, 255, 255, 6, 7, 255, 255 },
    { 0, 255, 255, 255, 1, 2, 255, 255, 3, 255, 255, 255, 4, 5, 255, 255 },
    { 0, 1, 255, 255, 2, 3, 255, 255, 4, 255, 255, 255, 5, 6, 255, 255 },
    { 0, 1, 2, 255, 3, 4, 255, 255, 5, 255, 255, 255, 6, 7, 255, 255 },
    { 0, 1, 2, 3, 4, 5, 255, 255, 6, 255, 255, 255, 7, 8, 255, 255 },
    { 0, 255, 255, 255, 1, 2, 3, 255, 4, 255, 255, 255, 5, 6, 255, 255 },
    { 0, 1, 255, 255, 2, 3, 4, 255, 5, 255, 255, 255, 6, 7, 255, 255 },
    { 0, 1, 2, 255, 3, 4, 5, 255, 6, 255, 255, 255, 7, 8, 255, 255 },
    { 0, 1, 2, 3, 4, 5, 6, 255, 7, 255, 255, 255, 8, 9, 255, 255 },
    { 0, 255, 255, 255, 1, 2, 3, 4, 5, 255, 255, 255, 6, 7, 255, 255 },
    { 0, 1, 255, 255, 2, 3, 4, 5, 6, 255, 255, 255, 7, 8, 255, 255 },
    { 0, 1, 2, 255, 3, 4, 5, 6, 7, 255, 255, 255, 8, 9, 255, 255 },
    { 0, 1, 2, 3, 4, 5, 6, 7, 8, 255, 255, 255, 9, 10, 255, 255 },
    { 0, 255, 255, 255, 1, 255, 255, 255, 2, 3, 255, 255, 4, 5, 255, 255 },
    { 0, 1, 255, 255, 2, 255, 255, 255, 3, 4, 255, 255, 5, 6, 255, 255 },
    { 0, 1, 2, 255, 3, 255, 255, 255, 4, 5, 255, 255, 6, 7, 255, 255 },
    { 0, 1, 2, 3, 4, 255, 255, 255, 5, 6, 255, 255, 7, 8, 255, 255 },
    { 0, 255, 255, 255, 1, 2, 255, 255, 3, 4, 255, 255, 5, 6, 255, 255 },
    { 0, 1, 255, 255, 2, 3, 255, 255, 4, 5, 255, 255, 6, 7, 255, 255 },
    { 0, 1, 2, 255, 3, 4, 255, 255, 5, 6, 255, 255, 7, 8, 255, 255 },
    { 0, 1, 2, 3, 4, 5, 255, 255, 6, 7, 255, 255, 8, 9, 255, 255 },
    { 0, 255, 255, 255, 1, 2, 3, 255, 4, 5, 255, 255, 6, 7, 255, 255 },
    { 0, 1, 255, 255, 2, 3, 4, 255, 5, 6, 255, 255, 7, 8, 255, 255 },
    { 0, 1, 2, 255, 3, 4, 5, 255, 6, 7, 255, 255, 8, 9, 255, 255 },
    { 0, 1, 2, 3, 4, 5, 6, 255, 7, 8, 255, 255, 9, 10, 255, 255 },
    { 0, 255, 255, 255, 1, 2, 3, 4, 5, 6, 255, 255, 7, 8, 255, 255 },
    { 0, 1, 255, 255, 2, 3, 4, 5, 6, 7, 255, 255, 8, 9, 255, 255 },
    { 0, 1, 2, 255, 3, 4, 5, 6, 7, 8, 255, 255, 9, 10, 255, 255 },
    { 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 255, 255, 10, 11, 255, 255 },
    { 0, 255, 255, 255, 1, 255, 255, 255, 2, 3, 4, 255, 5, 6, 255, 255 },
    { 0, 1, 255, 255, 2, 255, 255, 255, 3, 4, 5, 255, 6, 7, 255, 255 },
    { 0, 1, 2, 255, 3, 255, 255, 255, 4, 5, 6, 255, 7, 8, 255, 255 },
    { 0, 1, 2, 3, 4, 255, 255, 255, 5, 6, 7, 255, 8, 9, 255, 255 },
    { 0, 255, 255, 255, 1, 2, 255, 255, 3, 4, 5, 255, 6, 7, 255, 255 },
    { 0, 1, 255, 255, 2, 3, 255, 255, 4, 5, 6, 255, 7, 8, 255, 255 },
    { 0, 1, 2, 255, 3, 4, 255, 255, 5, 6, 7, 255, 8, 9, 255, 255 },
    { 0, 1, 2, 3, 4, 5, 255, 255, 6, 7, 8, 255, 9, 10, 255, 255 },
    { 0, 255, 255, 255, 1, 2, 3, 255, 4, 5, 6, 255, 7, 8, 255, 255 },
    { 0, 1, 255, 255, 2, 3, 4, 255, 5, 6, 7, 255, 8, 9, 255, 255 },
    { 0, 1, 2, 255, 3, 4, 5, 255, 6, 7, 8, 255, 9, 10, 255, 255 },
    { 0, 1, 2, 3, 4, 5, 6, 255, 7, 8, 9, 255, 10, 11, 255, 255 },
    { 0, 255, 255, 255, 1, 2, 3, 4, 5, 6, 7, 255, 8, 9, 255, 255 },
    { 0, 1, 255, 255, 2, 3, 4, 5, 6, 7, 8, 255, 9, 10, 255, 255 },
    { 0, 1, 2, 255, 3, 4, 5, 6, 7, 8, 9, 255, 10, 11, 255, 255 },
    { 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 255, 11, 12, 255, 255 },
    { 0, 255, 255, 255, 1, 255, 255, 255, 2, 3, 4, 5, 6, 7, 255, 255 },
    { 0, 1, 255, 255, 2, 255, 255, 255, 3, 4, 5, 6, 7, 8, 255, 255 },
    { 0, 1, 2, 255, 3, 255, 255, 255, 4, 5, 6, 7, 8, 9, 255, 255 },
    { 0, 1, 2, 3, 4, 255, 255, 255, 5, 6, 7, 8, 9, 10, 255, 255 },
    { 0, 255, 255, 255, 1, 2, 255, 255, 3, 4, 5, 6, 7, 8, 255, 255 },
    { 0, 1, 255, 255, 2, 3, 255, 255, 4, 5, 6, 7, 8, 9, 255, 255 },
    { 0, 1, 2, 255, 3, 4, 255, 255, 5, 6, 7, 8, 9, 10, 255, 255 },
    { 0, 1, 2, 3, 4, 5, 255, 255, 6, 7, 8, 9, 10, 11, 255, 255 },
    { 0, 255, 255, 255, 1, 2, 3, 255, 4, 5, 6, 7, 8, 9, 255, 255 },
    { 0, 1, 255, 255, 2, 3, 4, 255, 5, 6, 7, 8, 9, 10, 255, 255 },
    { 0, 1, 2, 255, 3, 4, 5, 255, 6, 7, 8, 9, 10, 11, 255, 255 },
    { 0, 1, 2, 3, 4, 5, 6, 255, 7, 8, 9, 10, 11, 12, 255, 255 },
    { 0, 255, 255, 255, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 255, 255 },
    { 0, 1, 255, 255, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 255, 255 },
    { 0, 1, 2, 255, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 255, 255 },
    { 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 255, 255 },
    { 0, 255, 255, 255, 1, 255, 255, 255, 2, 255, 255, 255, 3, 4, 5, 255 },
    { 0, 1, 255, 255, 2, 255, 255, 255, 3, 255, 255, 255, 4, 5, 6, 255 },
    { 0, 1, 2, 255, 3, 255, 255, 255, 4, 255, 255, 255, 5, 6, 7, 255 },
    { 0, 1, 2, 3, 4, 255, 255, 255, 5, 255, 255, 255, 6, 7, 8, 255 },
    { 0, 255, 255, 255, 1, 2, 255, 255, 3, 255, 255, 255, 4, 5, 6, 255 },
    { 0, 1, 255, 255, 2, 3, 255, 255, 4, 255, 255, 255, 5, 6, 7, 255 },
    { 0, 1, 2, 255, 3, 4, 255, 255, 5, 255, 255, 255, 6, 7, 8, 255 },
    { 0, 1, 2, 3, 4, 5, 255, 255, 6, 255, 255, 255, 7, 8, 9, 255 },
    { 0, 255, 255, 255, 1, 2, 3, 255, 4, 255, 255, 255, 5, 6, 7, 255 },
    { 0, 1, 255, 255, 2, 3, 4, 255, 5, 255, 255, 255, 6, 7, 8, 255 },
    { 0, 1, 2, 255, 3, 4, 5, 255, 6, 255, 255, 255, 7, 8, 9, 255 },
    { 0, 1, 2, 3, 4, 5, 6, 255, 7, 255, 255, 255, 8, 9, 10, 255 },
    { 0, 255, 255, 255, 1, 2, 3, 4, 5, 255, 255, 255, 6, 7, 8, 255 },
    { 0, 1, 255, 255, 2, 3, 4, 5, 6, 255, 255, 255, 7, 8, 9, 255 },
    { 0, 1, 2, 255, 3, 4, 5, 6, 7, 255, 255, 255, 8, 9, 10, 255 },
    { 0, 1, 2, 3, 4, 5, 6, 7, 8, 255, 255, 255, 9, 10, 11, 255 },
    { 0, 255, 255, 255, 1, 255, 255, 255, 2, 3, 255, 255, 4, 5, 6, 255 },
    { 0, 1, 255, 255, 2, 255, 255, 255, 3, 4, 255, 255, 5, 6, 7, 255 },
    { 0, 1, 2, 255, 3, 255, 255, 255, 4, 5, 255, 255, 6, 7, 8, 255 },
    { 0, 1, 2, 3, 4, 255, 255, 255, 5, 6, 255, 255, 7, 8, 9, 255 },
    { 0, 255, 255, 255, 1, 2, 255, 255, 3, 4, 255, 255, 5, 6, 7, 255 },
    { 0, 1, 255, 255, 2, 3, 255, 255, 4, 5, 255, 255, 6, 7, 8, 255 },
    { 0, 1, 2, 255, 3, 4, 255, 255, 5, 6, 255, 255, 7, 8, 9, 255 },
    { 0, 1, 2, 3, 4, 5, 255, 255, 6, 7, 255, 255, 8, 9, 10, 255 },
    { 0, 255, 255, 255, 1, 2, 3, 255, 4, 5, 255, 255, 6, 7, 8, 255 },
    { 0, 1, 255, 255, 2, 3, 4, 255, 5, 6, 255, 255, 7, 8, 9, 255 },
    { 0, 1, 2, 255, 3, 4, 5, 255, 6, 7, 255, 255, 8, 9, 10, 255 },
    { 0, 1, 2, 3, 4, 5, 6, 255, 7, 8, 255, 255, 9, 10, 11, 255 },
    { 0, 255, 255, 255, 1, 2, 3, 4, 5, 6, 255, 255, 7, 8, 9, 255 },
    { 0, 1, 255, 255, 2, 3, 4, 5, 6, 7, 255, 255, 8, 9, 10, 255 },
    { 0, 1, 2, 255, 3, 4, 5, 6, 7, 8, 255, 255, 9, 10, 11, 255 },
    { 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 255, 255, 10, 11, 12, 255 },
    { 0, 255, 255, 255, 1, 255, 255, 255, 2, 3, 4, 255, 5, 6, 7, 255 },
    { 0, 1, 255, 255, 2, 255, 255, 255, 3, 4, 5, 255, 6, 7, 8, 255 },
    { 0, 1, 2, 255, 3, 255, 255, 255, 4, 5, 6, 255, 7, 8, 9, 255 },
    { 0, 1, 2, 3, 4, 255, 255, 255, 5, 6, 7, 255, 8, 9, 10, 255 },
    { 0, 255, 255, 255, 1, 2, 255, 255, 3, 4, 5, 255, 6, 7, 8, 255 },
    { 0, 1, 255, 255, 2, 3, 255, 255, 4, 5, 6, 255, 7, 8, 9, 255 },
    { 0, 1, 2, 255, 3, 4, 255, 255, 5, 6, 7, 255, 8, 9, 10, 255 },
    { 0, 1, 2, 3, 4, 5, 255, 255, 6, 7, 8, 255, 9, 10, 11, 255 },
    { 0, 255, 255, 255, 1, 2, 3, 255, 4, 5, 6, 255, 7, 8, 9, 255 },
    { 0, 1, 255, 255, 2, 3, 4, 255, 5, 6, 7, 255, 8, 9, 10, 255 },
    { 0, 1, 2, 255, 3, 4, 5, 255, 6, 7, 8, 255, 9, 10, 11, 255 },
    { 0, 1, 2, 3, 4, 5, 6, 255, 7, 8, 9, 255, 10, 11, 12, 255 },
    { 0, 255, 255, 255, 1, 2, 3, 4, 5, 6, 7, 255, 8, 9, 10, 255 },
    { 0, 1, 255, 255, 2, 3, 4, 5, 6, 7, 8, 255, 9, 10, 11, 255 },
    { 0, 1, 2, 255, 3, 4, 5, 6, 7, 8, 9, 255, 10, 11, 12, 255 },
    { 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 255, 11, 12, 13, 255 },
    { 0, 255, 255, 255, 1, 255, 255, 255, 2, 3, 4, 5, 6, 7, 8, 255 },
    { 0, 1, 255, 255, 2, 255, 255, 255, 3, 4, 5, 6, 7, 8, 9, 255 },
    { 0, 1, 2, 255, 3, 255, 255, 255, 4, 5, 6, 7, 8, 9, 10, 255 },
    { 0, 1, 2, 3, 4, 255, 255, 255, 5, 6, 7, 8, 9, 10, 11, 255 },
    { 0, 255, 255, 255, 1, 2, 255, 255, 3, 4, 5, 6, 7, 8, 9, 255 },
    { 0, 1, 255, 255, 2, 3, 255, 255, 4, 5, 6, 7, 8, 9, 10, 255 },
    { 0, 1, 2, 255, 3, 4, 255, 255, 5, 6, 7, 8, 9, 10, 11, 255 },
    { 0, 1, 2, 3, 4, 5, 255, 255, 6, 7, 8, 9, 10, 11, 12, 255 },
    { 0, 255, 255, 255, 1, 2, 3, 255, 4, 5, 6, 7, 8, 9, 10, 255 },
    { 0, 1, 255, 255, 2, 3, 4, 255, 5, 6, 7, 8, 9, 10, 11, 255 },
    { 0, 1, 2, 255, 3, 4, 5, 255, 6, 7, 8, 9, 10, 11, 12, 255 },
    { 0, 1, 2, 3, 4, 5, 6, 255, 7, 8, 9, 10, 11, 12, 13, 255 },
    { 0, 255, 255, 255, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 255 },
    { 0, 1, 255, 255, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 255 },
    { 0, 1, 2, 255, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 255 },
    { 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 255 },
    { 0, 255, 255, 255, 1, 255, 255, 255, 2, 255, 255, 255, 3, 4, 5, 6 },
    { 0, 1, 255, 255, 2, 255, 255, 255, 3, 255, 255, 255, 4, 5, 6, 7 },
    { 0, 1, 2, 255, 3, 255, 255, 255, 4, 255, 255, 255, 5, 6, 7, 8 },
    { 0, 1, 2, 3, 4, 255, 255, 255, 5, 255, 255, 255, 6, 7, 8, 9 },
    { 0, 255, 255, 255, 1, 2, 255, 255, 3, 255, 255, 255, 4, 5, 6, 7 },
    { 0, 1, 255, 255, 2, 3, 255, 255, 4, 255, 255, 255, 5, 6, 7, 8 },
    { 0, 1, 2, 255, 3, 4, 255, 255, 5, 255, 255, 255, 6, 7, 8, 9 },
    { 0, 1, 2, 3, 4, 5, 255, 255, 6, 255, 255, 255, 7, 8, 9, 10 },
    { 0, 255, 255, 255, 1, 2, 3, 255, 4, 255, 255, 255, 5, 6, 7, 8 },
    { 0, 1, 255, 255, 2, 3, 4, 255, 5, 255, 255, 255, 6, 7, 8, 9 },
    { 0, 1, 2, 255, 3, 4, 5, 255, 6, 255, 255, 255, 7, 8, 9, 10 },
    { 0, 1, 2, 3, 4, 5, 6, 255, 7, 255, 255, 255, 8, 9, 10, 11 },
    { 0, 255, 255, 255, 1, 2, 3, 4, 5, 255, 255, 255, 6, 7, 8, 9 },
    { 0, 1, 255, 255, 2, 3, 4, 5, 6, 255, 255, 255, 7, 8, 9, 10 },
    { 0, 1, 2, 255, 3, 4, 5, 6, 7, 255, 255, 255, 8, 9, 10, 11 },
    { 0, 1, 2, 3, 4, 5, 6, 7, 8, 255, 255, 255, 9, 10, 11, 12 },
    { 0, 255, 255, 255, 1, 255, 255, 255, 2, 3, 255, 255, 4, 5, 6, 7 },
    { 0, 1, 255, 255, 2, 255, 255, 255, 3, 4, 255, 255, 5, 6, 7, 8 },
    { 0, 1, 2, 255, 3, 255, 255, 255, 4, 5, 255, 255, 6, 7, 8, 9 },
    { 0, 1, 2, 3, 4, 255, 255, 255, 5, 6, 255, 255, 7, 8, 9, 10 },
    { 0, 255, 255, 255, 1, 2, 255, 255, 3, 4, 255, 255, 5, 6, 7, 8 },
    { 0, 1, 255, 255, 2, 3, 255, 255, 4, 5, 255, 255, 6, 7, 8, 9 },
    { 0, 1, 2, 255, 3, 4, 255, 255, 5, 6, 255, 255, 7, 8, 9, 10 },
    { 0, 1, 2, 3, 4, 5, 255, 255, 6, 7, 255, 255, 8, 9, 10, 11 },
    { 0, 255, 255, 255, 1, 2, 3, 255, 4, 5, 255, 255, 6, 7, 8, 9 },
    { 0, 1, 255, 255, 2, 3, 4, 255, 5, 6, 255, 255, 7, 8, 9, 10 },
    { 0, 1, 2, 255, 3, 4, 5, 255, 6, 7, 255, 255, 8, 9, 10, 11 },
    { 0, 1, 2, 3, 4, 5, 6, 255, 7, 8, 255, 255, 9, 10, 11, 12 },
    { 0, 255, 255, 255, 1, 2, 3, 4, 5, 6, 255, 255, 7, 8, 9, 10 },
    { 0, 1, 255, 255, 2, 3, 4, 5, 6, 7, 255, 255, 8, 9, 10, 11 },
    { 0, 1, 2, 255, 3, 4, 5, 6, 7, 8, 255, 255, 9, 10, 11, 12 },
    { 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 255, 255, 10, 11, 12, 13 },
    { 0, 255, 255, 255, 1, 255, 255, 255, 2, 3, 4, 255, 5, 6, 7, 8 },
    { 0, 1, 255, 255, 2, 255, 255, 255, 3, 4, 5, 255, 6, 7, 8, 9 },
    { 0, 1, 2, 255, 3, 255, 255, 255, 4, 5, 6, 255, 7, 8, 9, 10 },
    { 0, 1, 2, 3, 4, 255, 255, 255, 5, 6, 7, 255, 8, 9, 10, 11 },
    { 0, 255, 255, 255, 1, 2, 255, 255, 3, 4, 5, 255, 6, 7, 8, 9 },
    { 0, 1, 255, 255, 2, 3, 255, 255, 4, 5, 6, 255, 7, 8, 9, 10 },
    { 0, 1, 2, 255, 3, 4, 255, 255, 5, 6, 7, 255, 8, 9, 10, 11 },
    { 0, 1, 2, 3, 4, 5, 255, 255, 6, 7, 8, 255, 9, 10, 11, 12 },
    { 0, 255, 255, 255, 1, 2, 3, 255, 4, 5, 6, 255, 7, 8, 9, 10 },
    { 0, 1, 255, 255, 2, 3, 4, 255, 5, 6, 7, 255, 8, 9, 10, 11 },
    { 0, 1, 2, 255, 3, 4, 5, 255, 6, 7, 8, 255, 9, 10, 11, 12 },
    { 0, 1, 2, 3, 4, 5, 6, 255, 7, 8, 9, 255, 10, 11, 12, 13 },
    { 0, 255, 255, 255, 1, 2, 3, 4, 5, 6, 7, 255, 8, 9, 10, 11 },
    { 0, 1, 255, 255, 2, 3, 4, 5, 6, 7, 8, 255, 9, 10, 11, 12 },
    { 0, 1, 2, 255, 3, 4, 5, 6, 7, 8, 9, 255, 10, 11, 12, 13 },
    { 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 255, 11, 12, 13, 14 },
    { 0, 255, 255, 255, 1, 255, 255, 255, 2, 3, 4, 5, 6, 7, 8, 9 },
    { 0, 1, 255, 255, 2, 255, 255, 255, 3, 4, 5, 6, 7, 8, 9, 10 },
    { 0, 1, 2, 255, 3, 255, 255, 255, 4, 5, 6, 7, 8, 9, 10, 11 },
    { 0, 1, 2, 3, 4, 255, 255, 255, 5, 6, 7, 8, 9, 10, 11, 12 },
    { 0, 255, 255, 255, 1, 2, 255, 255, 3, 4, 5, 6, 7, 8, 9, 10 },
    { 0, 1, 255, 255, 2, 3, 255, 255, 4, 5, 6, 7, 8, 9, 10, 11 },
    { 0, 1, 2, 255, 3, 4, 255, 255, 5, 6, 7, 8, 9, 10, 11, 12 },
    { 0, 1, 2, 3, 4, 5, 255, 255, 6, 7, 8, 9, 10, 11, 12, 13 },
    { 0, 255, 255, 255, 1, 2, 3, 255, 4, 5, 6, 7, 8, 9, 10, 11 },
    { 0, 1, 255, 255, 2, 3, 4, 255, 5, 6, 7, 8, 9, 10, 11, 12 },
    { 0, 1, 2, 255, 3, 4, 5, 255, 6, 7, 8, 9, 10, 11, 12, 13 },
    { 0, 1, 2, 3, 4, 5, 6, 255, 7, 8, 9, 10, 11, 12, 13, 14 },
    { 0, 255, 255, 255, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12 },
    { 0, 1, 255, 255, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13 },
    { 0, 1, 2, 255, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14 },
    { 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15 }
};

void decodestreamvbyte32groupsimd_c_u8_neon(long *pctrl, unsigned char *data, unsigned int *dst, long *plen_data, long *plen_dst, long *pout_result) {
    long ctrl = *pctrl;
    long len_data = *plen_data;
    long len_dst = *plen_dst;
    long dataLen = (long)(streamVByte32DataLen[ctrl]);
    if (len_data < dataLen || len_dst < 4) {
        *pout_result = 0;
        return;
    }
    if (len_data < 16) {
        *pout_result = decodeGroupScalarInto(ctrl, data, dst, len_data, len_dst);
        return;
    }
    uint8x16_t dataVec = vld1q_u8(data);
    unsigned char *maskSlice = streamVByte32ShuffleMasks[ctrl];
    uint8x16_t maskVec = vld1q_u8(maskSlice);
    uint8x16_t shuffled = vqtbl1q_u8(dataVec, maskVec);
    unsigned char result[16] = {0};
    vst1q_u8(result, shuffled);
    dst[0] = (unsigned int)(result[0]) | (unsigned int)(result[1]) << 8 | (unsigned int)(result[2]) << 16 | (unsigned int)(result[3]) << 24;
    dst[1] = (unsigned int)(result[4]) | (unsigned int)(result[5]) << 8 | (unsigned int)(result[6]) << 16 | (unsigned int)(result[7]) << 24;
    dst[2] = (unsigned int)(result[8]) | (unsigned int)(result[9]) << 8 | (unsigned int)(result[10]) << 16 | (unsigned int)(result[11]) << 24;
    dst[3] = (unsigned int)(result[12]) | (unsigned int)(result[13]) << 8 | (unsigned int)(result[14]) << 16 | (unsigned int)(result[15]) << 24;
    *pout_result = dataLen;
    return;
}
