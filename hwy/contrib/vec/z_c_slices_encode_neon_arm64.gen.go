//go:build !noasm && arm64
// Code generated by hwygen -c. DO NOT EDIT.

package vec

import (
	"unsafe"

	"github.com/ajroetker/go-highway/hwy"
	"github.com/ajroetker/go-highway/hwy/contrib/vec/asm"
)

func init() {
	initEncodeNeonCAsm()
}

func initEncodeNeonCAsm() {
	if hwy.NoSimdEnv() {
		return
	}
	EncodeFloat32s = encodeFloat32sAsmU8
	DecodeFloat32s = decodeFloat32sAsmF32
	EncodeFloat64s = encodeFloat64sAsmU8
	DecodeFloat64s = decodeFloat64sAsmF64
}

func encodeFloat32sAsmU8(dst []byte, src []float32) {
	totalBytes := len(src) * 4
	if len(dst) < totalBytes {
		panic("dst is too short")
	}
	var p_dst unsafe.Pointer
	if len(dst) > 0 {
		p_dst = unsafe.Pointer(&dst[0])
	}
	var p_src unsafe.Pointer
	if len(src) > 0 {
		p_src = unsafe.Pointer(&src[0])
	}
	len_dstVal := int64(len(dst))
	len_srcVal := int64(len(src))
	asm.EncodeFloat32s_U8(
		p_dst,
		p_src,
		unsafe.Pointer(&len_dstVal),
		unsafe.Pointer(&len_srcVal),
	)
}

func decodeFloat32sAsmF32(dst []float32, src []byte) {
	totalBytes := len(dst) * 4
	if len(src) < totalBytes {
		panic("src is too short")
	}
	var p_dst unsafe.Pointer
	if len(dst) > 0 {
		p_dst = unsafe.Pointer(&dst[0])
	}
	var p_src unsafe.Pointer
	if len(src) > 0 {
		p_src = unsafe.Pointer(&src[0])
	}
	len_dstVal := int64(len(dst))
	len_srcVal := int64(len(src))
	asm.DecodeFloat32s_F32(
		p_dst,
		p_src,
		unsafe.Pointer(&len_dstVal),
		unsafe.Pointer(&len_srcVal),
	)
}

func encodeFloat64sAsmU8(dst []byte, src []float64) {
	totalBytes := len(src) * 8
	if len(dst) < totalBytes {
		panic("dst is too short")
	}
	var p_dst unsafe.Pointer
	if len(dst) > 0 {
		p_dst = unsafe.Pointer(&dst[0])
	}
	var p_src unsafe.Pointer
	if len(src) > 0 {
		p_src = unsafe.Pointer(&src[0])
	}
	len_dstVal := int64(len(dst))
	len_srcVal := int64(len(src))
	asm.EncodeFloat64s_U8(
		p_dst,
		p_src,
		unsafe.Pointer(&len_dstVal),
		unsafe.Pointer(&len_srcVal),
	)
}

func decodeFloat64sAsmF64(dst []float64, src []byte) {
	totalBytes := len(dst) * 8
	if len(src) < totalBytes {
		panic("src is too short")
	}
	var p_dst unsafe.Pointer
	if len(dst) > 0 {
		p_dst = unsafe.Pointer(&dst[0])
	}
	var p_src unsafe.Pointer
	if len(src) > 0 {
		p_src = unsafe.Pointer(&src[0])
	}
	len_dstVal := int64(len(dst))
	len_srcVal := int64(len(src))
	asm.DecodeFloat64s_F64(
		p_dst,
		p_src,
		unsafe.Pointer(&len_dstVal),
		unsafe.Pointer(&len_srcVal),
	)
}

