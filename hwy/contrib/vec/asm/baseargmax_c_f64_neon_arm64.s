//go:build !noasm && arm64
// Code generated by GoAT. DO NOT EDIT.
// versions:
// 	clang   21.1.8
// 	objdump 2.46.0.20260210
// flags: -march=armv8-a+simd+fp -fno-builtin-memset -O3
// source: /Users/ajroetker/go/src/github.com/ajroetker/go-highway/hwy/contrib/vec/asm/baseargmax_c_f64_neon_arm64.c

#include "textflag.h"

// Constant pool data
DATA CPI0_0<>+0(SB)/4, $0x00000000
DATA CPI0_0<>+4(SB)/4, $0x00000000
DATA CPI0_0<>+8(SB)/4, $0x00000000
DATA CPI0_0<>+12(SB)/4, $0x3ff00000
GLOBL CPI0_0<>(SB), (RODATA|NOPTR), $16

TEXT Â·argmax_c_f64_neon(SB), $0-24
	MOVD v+0(FP), R0
	MOVD plen_v+8(FP), R1
	MOVD pout_result+16(FP), R2
	WORD $0xf9400028            // ldr	x8, [x1]
	WORD $0xf100091f            // cmp	x8, #2
	BGE  BB0_2
	WORD $0xf900005f            // str	xzr, [x2]
	RET

BB0_2:
	WORD $0x3dc00000       // ldr	q0, [x0]
	WORD $0xf100111f       // cmp	x8, #4
	BHS  BB0_4
	MOVD $CPI0_0<>(SB), R9
	VLD1 (R9), [V2.B16]
	WORD $0x52800049       // mov	w9, #2                          ; =0x2
	B    BB0_7

BB0_4:
	MOVD $CPI0_0<>(SB), R9
	VLD1 (R9), [V1.B16]
	WORD $0x91004009       // add	x9, x0, #16
	WORD $0x5280004a       // mov	w10, #2                         ; =0x2
	WORD $0x4ea11c22       // mov.16b	v2, v1

BB0_5:
	WORD $0x3cc10523 // ldr	q3, [x9], #16
	WORD $0x9e630144 // ucvtf	d4, x10
	WORD $0x4e080484 // dup.2d	v4, v4[0]
	WORD $0x4e61d484 // fadd.2d	v4, v4, v1
	WORD $0x6ee0e465 // fcmgt.2d	v5, v3, v0
	WORD $0x6ea51c60 // bit.16b	v0, v3, v5
	WORD $0x6ea51c82 // bit.16b	v2, v4, v5
	WORD $0x9100114b // add	x11, x10, #4
	WORD $0x9100094a // add	x10, x10, #2
	WORD $0xeb08017f // cmp	x11, x8
	BLE  BB0_5
	WORD $0x927ff509 // and	x9, x8, #0x7ffffffffffffffe

BB0_7:
	WORD $0x1e602000 // fcmp	d0, d0
	WORD $0x9e78004a // fcvtzs	x10, d2
	WORD $0x1a9f67eb // cset	w11, vc
	WORD $0x9a8a63ea // csel	x10, xzr, x10, vs
	WORD $0x2f00e401 // movi	d1, #0000000000000000
	WORD $0x1e606c23 // fcsel	d3, d1, d0, vs
	WORD $0x5e180401 // mov	d1, v0[1]
	WORD $0x1e612020 // fcmp	d1, d1
	BVS  BB0_19
	WORD $0x5e180442 // mov	d2, v2[1]
	WORD $0x9e78004c // fcvtzs	x12, d2
	WORD $0x1e602000 // fcmp	d0, d0
	WORD $0x1e637420 // fccmp	d1, d3, #0, vc
	BGT  BB0_11
	WORD $0x1e632020 // fcmp	d1, d3
	WORD $0xfa4c0144 // ccmp	x10, x12, #4, eq
	BGT  BB0_11
	WORD $0x5280002b // mov	w11, #1                         ; =0x1
	WORD $0x1e604061 // fmov	d1, d3
	WORD $0xeb08013f // cmp	x9, x8
	BLO  BB0_12
	B    BB0_20

BB0_11:
	WORD $0x5280002b // mov	w11, #1                         ; =0x1
	WORD $0xaa0c03ea // mov	x10, x12
	WORD $0xeb08013f // cmp	x9, x8
	BHS  BB0_20

BB0_12:
	WORD $0xfc697800 // ldr	d0, [x0, x9, lsl #3]
	WORD $0x1e602000 // fcmp	d0, d0
	BVS  BB0_18
	CBZ  R11, BB0_17
	WORD $0x1e612000 // fcmp	d0, d1
	BGT  BB0_17
	WORD $0xfa4a0120 // ccmp	x9, x10, #0, eq
	BLT  BB0_17
	WORD $0x1e604020 // fmov	d0, d1
	WORD $0x5280002b // mov	w11, #1                         ; =0x1
	WORD $0x91000529 // add	x9, x9, #1
	WORD $0x1e604001 // fmov	d1, d0
	WORD $0xeb09011f // cmp	x8, x9
	BNE  BB0_12
	B    BB0_20

BB0_17:
	WORD $0xaa0903ea // mov	x10, x9
	WORD $0x5280002b // mov	w11, #1                         ; =0x1
	WORD $0x91000529 // add	x9, x9, #1
	WORD $0x1e604001 // fmov	d1, d0
	WORD $0xeb09011f // cmp	x8, x9
	BNE  BB0_12
	B    BB0_20

BB0_18:
	WORD $0x1e604020 // fmov	d0, d1
	WORD $0x91000529 // add	x9, x9, #1
	WORD $0x1e604001 // fmov	d1, d0
	WORD $0xeb09011f // cmp	x8, x9
	BNE  BB0_12
	B    BB0_20

BB0_19:
	WORD $0x1e604061 // fmov	d1, d3
	WORD $0xeb08013f // cmp	x9, x8
	BLO  BB0_12

BB0_20:
	WORD $0xf900004a // str	x10, [x2]
	RET
