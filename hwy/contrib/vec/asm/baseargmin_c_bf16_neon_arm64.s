//go:build !noasm && arm64
// Code generated by GoAT. DO NOT EDIT.
// versions:
// 	clang   21.1.8
// 	objdump 2.46.0.20260210
// flags: -march=armv8.6-a+bf16+simd -fno-builtin-memset -O3
// source: /Users/ajroetker/go/src/github.com/ajroetker/go-highway/hwy/contrib/vec/asm/baseargmin_c_bf16_neon_arm64.c

#include "textflag.h"

// Constant pool data
DATA CPI0_0<>+0(SB)/4, $0x3f800000
DATA CPI0_0<>+4(SB)/4, $0x40404000
DATA CPI0_0<>+8(SB)/4, $0x40a04080
DATA CPI0_0<>+12(SB)/4, $0x40e040c0
GLOBL CPI0_0<>(SB), (RODATA|NOPTR), $16
DATA CPI0_1<>+0(SB)/4, $0x00000000
DATA CPI0_1<>+4(SB)/4, $0x3f800000
DATA CPI0_1<>+8(SB)/4, $0x40000000
DATA CPI0_1<>+12(SB)/4, $0x40400000
GLOBL CPI0_1<>(SB), (RODATA|NOPTR), $16
DATA CPI0_2<>+0(SB)/4, $0x40800000
DATA CPI0_2<>+4(SB)/4, $0x40a00000
DATA CPI0_2<>+8(SB)/4, $0x40c00000
DATA CPI0_2<>+12(SB)/4, $0x40e00000
GLOBL CPI0_2<>(SB), (RODATA|NOPTR), $16

TEXT Â·argmin_c_bf16_neon(SB), $0-24
	MOVD v+0(FP), R0
	MOVD plen_v+8(FP), R1
	MOVD pout_result+16(FP), R2
	WORD $0xf9400028            // ldr	x8, [x1]
	WORD $0xf1001d1f            // cmp	x8, #7
	BGT  BB0_3
	WORD $0xf100091f            // cmp	x8, #2
	BGE  BB0_5
	WORD $0xf900005f            // str	xzr, [x2]
	RET

BB0_3:
	WORD $0x3dc00000       // ldr	q0, [x0]
	MOVD $CPI0_0<>(SB), R9
	VLD1 (R9), [V1.B16]
	WORD $0xf100411f       // cmp	x8, #16
	BHS  BB0_16
	WORD $0x5280010a       // mov	w10, #8                         ; =0x8
	B    BB0_19

BB0_5:
	WORD $0x7d400000 // ldr	h0, [x0]
	WORD $0x7e21d800 // ucvtf	s0, s0
	WORD $0x7d400401 // ldr	h1, [x0, #2]
	WORD $0x7e21d821 // ucvtf	s1, s1
	WORD $0x1e212000 // fcmp	s0, s1
	WORD $0x1a9fd7e9 // cset	w9, gt
	WORD $0x1e20cc20 // fcsel	s0, s1, s0, gt
	WORD $0xf100091f // cmp	x8, #2
	BEQ  BB0_35
	WORD $0x7d400801 // ldr	h1, [x0, #4]
	WORD $0x7e21d821 // ucvtf	s1, s1
	WORD $0x1e212000 // fcmp	s0, s1
	WORD $0x5280004a // mov	w10, #2                         ; =0x2
	WORD $0x9a89c149 // csel	x9, x10, x9, gt
	WORD $0x1e20cc20 // fcsel	s0, s1, s0, gt
	WORD $0xf1000d1f // cmp	x8, #3
	BEQ  BB0_35
	WORD $0x7d400c01 // ldr	h1, [x0, #6]
	WORD $0x7e21d821 // ucvtf	s1, s1
	WORD $0x1e212000 // fcmp	s0, s1
	WORD $0x5280006a // mov	w10, #3                         ; =0x3
	WORD $0x9a89c149 // csel	x9, x10, x9, gt
	WORD $0x1e20cc20 // fcsel	s0, s1, s0, gt
	WORD $0xf100111f // cmp	x8, #4
	BEQ  BB0_35
	WORD $0x7d401001 // ldr	h1, [x0, #8]
	WORD $0x7e21d821 // ucvtf	s1, s1
	WORD $0x1e212000 // fcmp	s0, s1
	WORD $0x5280008a // mov	w10, #4                         ; =0x4
	WORD $0x9a89c149 // csel	x9, x10, x9, gt
	WORD $0x1e20cc20 // fcsel	s0, s1, s0, gt
	WORD $0xf100151f // cmp	x8, #5
	BEQ  BB0_35
	WORD $0x7d401401 // ldr	h1, [x0, #10]
	WORD $0x7e21d821 // ucvtf	s1, s1
	WORD $0x1e212000 // fcmp	s0, s1
	BGT  BB0_11
	WORD $0xfa460920 // ccmp	x9, #6, #0, eq
	BLO  BB0_12

BB0_11:
	WORD $0x528000a9 // mov	w9, #5                          ; =0x5
	WORD $0x1e604020 // fmov	d0, d1

BB0_12:
	WORD $0xf100191f // cmp	x8, #6
	BEQ  BB0_35
	WORD $0x7d401801 // ldr	h1, [x0, #12]
	WORD $0x7e21d821 // ucvtf	s1, s1
	WORD $0x1e212000 // fcmp	s0, s1
	BGT  BB0_15
	WORD $0xfa470920 // ccmp	x9, #7, #0, eq
	BLO  BB0_35

BB0_15:
	WORD $0x528000c9 // mov	w9, #6                          ; =0x6
	WORD $0xf9000049 // str	x9, [x2]
	RET

BB0_16:
	WORD $0x91004009        // add	x9, x0, #16
	WORD $0x5280010a        // mov	w10, #8                         ; =0x8
	MOVD $CPI0_1<>(SB), R11
	VLD1 (R11), [V2.B16]
	WORD $0x4f000423        // movi.4s	v3, #1
	MOVD $CPI0_2<>(SB), R11
	VLD1 (R11), [V4.B16]
	WORD $0x4f03c7e5        // movi.4s	v5, #127, msl #8

BB0_17:
	WORD $0x3cc10526 // ldr	q6, [x9], #16
	WORD $0x0e020d47 // dup.4h	v7, w10
	WORD $0x2e6138e7 // shll.4s	v7, v7, #16
	WORD $0x4e22d4f0 // fadd.4s	v16, v7, v2
	WORD $0x4e24d4e7 // fadd.4s	v7, v7, v4
	WORD $0x6f3004f1 // ushr.4s	v17, v7, #16
	WORD $0x4e231e31 // and.16b	v17, v17, v3
	WORD $0x4eb184e7 // add.4s	v7, v7, v17
	WORD $0x6f300611 // ushr.4s	v17, v16, #16
	WORD $0x4e231e31 // and.16b	v17, v17, v3
	WORD $0x4eb18610 // add.4s	v16, v16, v17
	WORD $0x0e654210 // addhn.4h	v16, v16, v5
	WORD $0x4e6540f0 // addhn2.8h	v16, v7, v5
	WORD $0x2e6138c7 // shll.4s	v7, v6, #16
	WORD $0x6e6138d1 // shll2.4s	v17, v6, #16
	WORD $0x2e613812 // shll.4s	v18, v0, #16
	WORD $0x6e613813 // shll2.4s	v19, v0, #16
	WORD $0x6eb1e671 // fcmgt.4s	v17, v19, v17
	WORD $0x6ea7e647 // fcmgt.4s	v7, v18, v7
	WORD $0x4e5118e7 // uzp1.8h	v7, v7, v17
	WORD $0x6ea71cc0 // bit.16b	v0, v6, v7
	WORD $0x6ea71e01 // bit.16b	v1, v16, v7
	WORD $0x9100414b // add	x11, x10, #16
	WORD $0x9100214a // add	x10, x10, #8
	WORD $0xeb08017f // cmp	x11, x8
	BLE  BB0_17
	WORD $0x927ded0a // and	x10, x8, #0x7ffffffffffffff8

BB0_19:
	WORD $0x1e202000 // fcmp	s0, s0
	WORD $0x9e380029 // fcvtzs	x9, s1
	WORD $0x1a9f67eb // cset	w11, vc
	WORD $0x9a8963e9 // csel	x9, xzr, x9, vs
	WORD $0x2f00e402 // movi	d2, #0000000000000000
	WORD $0x1e206c43 // fcsel	s3, s2, s0, vs
	WORD $0x5e0c0402 // mov	s2, v0[1]
	WORD $0x1e222040 // fcmp	s2, s2
	BVS  BB0_40
	WORD $0x5e0c0424 // mov	s4, v1[1]
	WORD $0x9e38008c // fcvtzs	x12, s4
	WORD $0x1e202000 // fcmp	s0, s0
	WORD $0x1e237448 // fccmp	s2, s3, #8, vc
	BMI  BB0_23
	WORD $0x1e232040 // fcmp	s2, s3
	WORD $0xfa4c0124 // ccmp	x9, x12, #4, eq
	BGT  BB0_23
	WORD $0x5280002b // mov	w11, #1                         ; =0x1
	WORD $0x1e604062 // fmov	d2, d3
	WORD $0x5e140403 // mov	s3, v0[2]
	WORD $0x1e232060 // fcmp	s3, s3
	BVC  BB0_24
	B    BB0_41

BB0_23:
	WORD $0x5280002b // mov	w11, #1                         ; =0x1
	WORD $0xaa0c03e9 // mov	x9, x12
	WORD $0x5e140403 // mov	s3, v0[2]
	WORD $0x1e232060 // fcmp	s3, s3
	BVS  BB0_41

BB0_24:
	WORD $0x5e140424 // mov	s4, v1[2]
	WORD $0x9e38008c // fcvtzs	x12, s4
	WORD $0xf100017f // cmp	x11, #0
	WORD $0x1e221468 // fccmp	s3, s2, #8, ne
	BMI  BB0_27
	WORD $0x1e222060 // fcmp	s3, s2
	WORD $0xfa4c0124 // ccmp	x9, x12, #4, eq
	BGT  BB0_27
	WORD $0x5280002b // mov	w11, #1                         ; =0x1
	WORD $0x1e604043 // fmov	d3, d2
	WORD $0x5e1c0402 // mov	s2, v0[3]
	WORD $0x1e222040 // fcmp	s2, s2
	BVC  BB0_28
	B    BB0_42

BB0_27:
	WORD $0x5280002b // mov	w11, #1                         ; =0x1
	WORD $0xaa0c03e9 // mov	x9, x12
	WORD $0x5e1c0402 // mov	s2, v0[3]
	WORD $0x1e222040 // fcmp	s2, s2
	BVS  BB0_42

BB0_28:
	WORD $0x5e1c0420 // mov	s0, v1[3]
	WORD $0x9e38000c // fcvtzs	x12, s0
	WORD $0xf100017f // cmp	x11, #0
	WORD $0x1e231448 // fccmp	s2, s3, #8, ne
	BMI  BB0_31
	WORD $0x1e232040 // fcmp	s2, s3
	WORD $0xfa4c0124 // ccmp	x9, x12, #4, eq
	BGT  BB0_31
	WORD $0x5280002b // mov	w11, #1                         ; =0x1
	WORD $0x1e604062 // fmov	d2, d3
	WORD $0xeb08015f // cmp	x10, x8
	BLO  BB0_32
	B    BB0_35

BB0_31:
	WORD $0x5280002b // mov	w11, #1                         ; =0x1
	WORD $0xaa0c03e9 // mov	x9, x12
	WORD $0xeb08015f // cmp	x10, x8
	BHS  BB0_35

BB0_32:
	WORD $0x7c6a7800 // ldr	h0, [x0, x10, lsl #1]
	WORD $0x7e21d800 // ucvtf	s0, s0
	WORD $0xf100017f // cmp	x11, #0
	WORD $0x1e201440 // fccmp	s2, s0, #0, ne
	BLE  BB0_34
	WORD $0xaa0a03e9 // mov	x9, x10
	WORD $0xb240014a // orr	x10, x10, #0x1
	WORD $0xeb08015f // cmp	x10, x8
	BNE  BB0_38
	B    BB0_35

BB0_34:
	WORD $0x1e202040 // fcmp	s2, s0
	WORD $0x1a9f17eb // cset	w11, eq
	WORD $0xeb09015f // cmp	x10, x9
	WORD $0x1a9fa7ec // cset	w12, lt
	WORD $0x6a0c017f // tst	w11, w12
	WORD $0x9a891149 // csel	x9, x10, x9, ne
	WORD $0x1e221c00 // fcsel	s0, s0, s2, ne
	WORD $0xb240014a // orr	x10, x10, #0x1
	WORD $0xeb08015f // cmp	x10, x8
	BNE  BB0_38

BB0_35:
	WORD $0xf9000049 // str	x9, [x2]
	RET

BB0_36:
	WORD $0xaa0a03e9 // mov	x9, x10
	WORD $0x1e604020 // fmov	d0, d1

BB0_37:
	WORD $0x9100054a // add	x10, x10, #1
	WORD $0xeb0a011f // cmp	x8, x10
	BEQ  BB0_35

BB0_38:
	WORD $0x7c6a7801 // ldr	h1, [x0, x10, lsl #1]
	WORD $0x7e21d821 // ucvtf	s1, s1
	WORD $0x1e212000 // fcmp	s0, s1
	BGT  BB0_36
	WORD $0xfa490140 // ccmp	x10, x9, #0, eq
	BLT  BB0_36
	B    BB0_37

BB0_40:
	WORD $0x1e604062 // fmov	d2, d3
	WORD $0x5e140403 // mov	s3, v0[2]
	WORD $0x1e232060 // fcmp	s3, s3
	BVC  BB0_24

BB0_41:
	WORD $0x1e604043 // fmov	d3, d2
	WORD $0x5e1c0402 // mov	s2, v0[3]
	WORD $0x1e222040 // fcmp	s2, s2
	BVC  BB0_28

BB0_42:
	WORD $0x1e604062 // fmov	d2, d3
	WORD $0xeb08015f // cmp	x10, x8
	BLO  BB0_32
	B    BB0_35
