//go:build !noasm && arm64
// Code generated by GoAT. DO NOT EDIT.
// versions:
// 	clang   21.1.8
// 	objdump 2.46.0.20260210
// flags: -march=armv8-a+simd+fp -fno-builtin-memset -O3
// source: /Users/ajroetker/go/src/github.com/ajroetker/go-highway/hwy/contrib/vec/asm/baseargmax_c_f32_neon_arm64.c

#include "textflag.h"

// Constant pool data
DATA CPI0_0<>+0(SB)/4, $0x00000000
DATA CPI0_0<>+4(SB)/4, $0x3f800000
DATA CPI0_0<>+8(SB)/4, $0x40000000
DATA CPI0_0<>+12(SB)/4, $0x40400000
GLOBL CPI0_0<>(SB), (RODATA|NOPTR), $16

TEXT Â·argmax_c_f32_neon(SB), $0-24
	MOVD v+0(FP), R0
	MOVD plen_v+8(FP), R1
	MOVD pout_result+16(FP), R2
	WORD $0xf9400028            // ldr	x8, [x1]
	WORD $0xf1000d1f            // cmp	x8, #3
	BGT  BB0_4
	WORD $0xf100051f            // cmp	x8, #1
	BLT  BB0_3
	WORD $0xbd400000            // ldr	s0, [x0]
	WORD $0x1e202000            // fcmp	s0, s0
	WORD $0x1a9f67e9            // cset	w9, vc
	WORD $0x2f00e401            // movi	d1, #0000000000000000
	WORD $0x1e206c20            // fcsel	s0, s1, s0, vs
	WORD $0x5a9f73ea            // csetm	w10, vs
	WORD $0xf100051f            // cmp	x8, #1
	BNE  BB0_31

BB0_3:
	WORD $0xf900005f // str	xzr, [x2]
	RET

BB0_4:
	WORD $0x3dc00000       // ldr	q0, [x0]
	WORD $0xf100211f       // cmp	x8, #8
	BHS  BB0_6
	MOVD $CPI0_0<>(SB), R9
	VLD1 (R9), [V1.B16]
	WORD $0x52800089       // mov	w9, #4                          ; =0x4
	B    BB0_9

BB0_6:
	MOVD $CPI0_0<>(SB), R9
	VLD1 (R9), [V2.B16]
	WORD $0x91004009       // add	x9, x0, #16
	WORD $0x5280008a       // mov	w10, #4                         ; =0x4
	WORD $0x4ea21c41       // mov.16b	v1, v2

BB0_7:
	WORD $0x3cc10523 // ldr	q3, [x9], #16
	WORD $0x9e230144 // ucvtf	s4, x10
	WORD $0x4e040484 // dup.4s	v4, v4[0]
	WORD $0x4e22d484 // fadd.4s	v4, v4, v2
	WORD $0x6ea0e465 // fcmgt.4s	v5, v3, v0
	WORD $0x6ea51c60 // bit.16b	v0, v3, v5
	WORD $0x6ea51c81 // bit.16b	v1, v4, v5
	WORD $0x9100214b // add	x11, x10, #8
	WORD $0x9100114a // add	x10, x10, #4
	WORD $0xeb08017f // cmp	x11, x8
	BLE  BB0_7
	WORD $0x927ef109 // and	x9, x8, #0x7ffffffffffffffc

BB0_9:
	WORD $0x1e202000 // fcmp	s0, s0
	WORD $0x9e38002a // fcvtzs	x10, s1
	WORD $0x1a9f67eb // cset	w11, vc
	WORD $0x9a8a63ea // csel	x10, xzr, x10, vs
	WORD $0x2f00e402 // movi	d2, #0000000000000000
	WORD $0x1e206c43 // fcsel	s3, s2, s0, vs
	WORD $0x5e0c0402 // mov	s2, v0[1]
	WORD $0x1e222040 // fcmp	s2, s2
	BVS  BB0_34
	WORD $0x5e0c0424 // mov	s4, v1[1]
	WORD $0x9e38008c // fcvtzs	x12, s4
	WORD $0x1e202000 // fcmp	s0, s0
	WORD $0x1e237440 // fccmp	s2, s3, #0, vc
	BGT  BB0_14
	WORD $0x1e232040 // fcmp	s2, s3
	WORD $0xfa4c0144 // ccmp	x10, x12, #4, eq
	BGT  BB0_14
	WORD $0x5280002b // mov	w11, #1                         ; =0x1
	WORD $0x1e604062 // fmov	d2, d3
	WORD $0x5e140403 // mov	s3, v0[2]
	WORD $0x1e232060 // fcmp	s3, s3
	BVC  BB0_15

BB0_13:
	WORD $0x1e604043 // fmov	d3, d2
	WORD $0x5e1c0400 // mov	s0, v0[3]
	WORD $0x1e202000 // fcmp	s0, s0
	BVC  BB0_20
	B    BB0_18

BB0_14:
	WORD $0x5280002b // mov	w11, #1                         ; =0x1
	WORD $0xaa0c03ea // mov	x10, x12
	WORD $0x5e140403 // mov	s3, v0[2]
	WORD $0x1e232060 // fcmp	s3, s3
	BVS  BB0_13

BB0_15:
	WORD $0x5e140424 // mov	s4, v1[2]
	WORD $0x9e38008c // fcvtzs	x12, s4
	WORD $0xf100017f // cmp	x11, #0
	WORD $0x1e221460 // fccmp	s3, s2, #0, ne
	BGT  BB0_19
	WORD $0x1e222060 // fcmp	s3, s2
	WORD $0xfa4c0144 // ccmp	x10, x12, #4, eq
	BGT  BB0_19
	WORD $0x5280002b // mov	w11, #1                         ; =0x1
	WORD $0x1e604043 // fmov	d3, d2
	WORD $0x5e1c0400 // mov	s0, v0[3]
	WORD $0x1e202000 // fcmp	s0, s0
	BVC  BB0_20

BB0_18:
	WORD $0x1e604060 // fmov	d0, d3
	WORD $0xeb08013f // cmp	x9, x8
	BLO  BB0_25
	B    BB0_32

BB0_19:
	WORD $0x5280002b // mov	w11, #1                         ; =0x1
	WORD $0xaa0c03ea // mov	x10, x12
	WORD $0x5e1c0400 // mov	s0, v0[3]
	WORD $0x1e202000 // fcmp	s0, s0
	BVS  BB0_18

BB0_20:
	WORD $0x5e1c0421 // mov	s1, v1[3]
	WORD $0x9e38002c // fcvtzs	x12, s1
	WORD $0xf100017f // cmp	x11, #0
	WORD $0x1e231400 // fccmp	s0, s3, #0, ne
	BGT  BB0_23
	WORD $0x1e232000 // fcmp	s0, s3
	WORD $0xfa4c0144 // ccmp	x10, x12, #4, eq
	BGT  BB0_23
	WORD $0x5280002b // mov	w11, #1                         ; =0x1
	WORD $0x1e604060 // fmov	d0, d3
	WORD $0xeb08013f // cmp	x9, x8
	BLO  BB0_25
	B    BB0_32

BB0_23:
	WORD $0x5280002b // mov	w11, #1                         ; =0x1
	WORD $0xaa0c03ea // mov	x10, x12
	WORD $0xeb08013f // cmp	x9, x8
	BHS  BB0_32
	B    BB0_25

BB0_24:
	WORD $0xaa0903ea // mov	x10, x9
	WORD $0x5280002b // mov	w11, #1                         ; =0x1
	WORD $0x91000529 // add	x9, x9, #1
	WORD $0x1e604020 // fmov	d0, d1
	WORD $0xeb09011f // cmp	x8, x9
	BEQ  BB0_32

BB0_25:
	WORD $0xbc697801 // ldr	s1, [x0, x9, lsl #2]
	WORD $0x1e212020 // fcmp	s1, s1
	BVS  BB0_30
	WORD $0xb4fffeeb // cbz	x11, LBB0_24
	WORD $0x1e202020 // fcmp	s1, s0
	BGT  BB0_24
	WORD $0xfa4a0120 // ccmp	x9, x10, #0, eq
	BLT  BB0_24
	WORD $0x1e604001 // fmov	d1, d0
	WORD $0x5280002b // mov	w11, #1                         ; =0x1
	WORD $0x91000529 // add	x9, x9, #1
	WORD $0x1e604020 // fmov	d0, d1
	WORD $0xeb09011f // cmp	x8, x9
	BNE  BB0_25
	B    BB0_32

BB0_30:
	WORD $0x1e604001 // fmov	d1, d0
	WORD $0x91000529 // add	x9, x9, #1
	WORD $0x1e604020 // fmov	d0, d1
	WORD $0xeb09011f // cmp	x8, x9
	BNE  BB0_25
	B    BB0_32

BB0_31:
	WORD $0xbd400401 // ldr	s1, [x0, #4]
	WORD $0x1e202020 // fcmp	s1, s0
	WORD $0x1a9fd7eb // cset	w11, gt
	WORD $0x2a0b014a // orr	w10, w10, w11
	WORD $0x9240014b // and	x11, x10, #0x1
	WORD $0x7200015f // tst	w10, #0x1
	WORD $0x1e201c22 // fcsel	s2, s1, s0, ne
	WORD $0x1e212020 // fcmp	s1, s1
	WORD $0x9a8b63ea // csel	x10, xzr, x11, vs
	WORD $0x1e226c00 // fcsel	s0, s0, s2, vs
	WORD $0x9a9f6529 // csinc	x9, x9, xzr, vs
	WORD $0xf100091f // cmp	x8, #2
	BNE  BB0_33

BB0_32:
	WORD $0xf900004a // str	x10, [x2]
	RET

BB0_33:
	WORD $0xbd400801 // ldr	s1, [x0, #8]
	WORD $0x1e202020 // fcmp	s1, s0
	WORD $0xfa40d924 // ccmp	x9, #0, #4, le
	WORD $0x52800048 // mov	w8, #2                          ; =0x2
	WORD $0x9a8a0108 // csel	x8, x8, x10, eq
	WORD $0x1e212020 // fcmp	s1, s1
	WORD $0x9a88614a // csel	x10, x10, x8, vs
	WORD $0xf900004a // str	x10, [x2]
	RET

BB0_34:
	WORD $0x1e604062 // fmov	d2, d3
	WORD $0x5e140403 // mov	s3, v0[2]
	WORD $0x1e232060 // fcmp	s3, s3
	BVC  BB0_15
	B    BB0_13
