// Code generated by github.com/ajroetker/go-highway/cmd/hwygen. DO NOT EDIT.

//go:build amd64 && goexperiment.simd

package quantize

import (
	"simd/archsimd"

	"github.com/ajroetker/go-highway/hwy"
)

var DequantizeUint8 func(input []uint8, output []float32, min float32, scale float32)
var QuantizeFloat32 func(input []float32, output []uint8, min float32, scale float32)

func init() {
	initQuantizeAll()
}

func initQuantizeAll() {
	if hwy.NoSimdEnv() {
		initQuantizeFallback()
		return
	}
	if archsimd.X86.AVX512() {
		initQuantizeAVX512()
		return
	}
	if archsimd.X86.AVX2() {
		initQuantizeAVX2()
		return
	}
	initQuantizeFallback()
}

func initQuantizeAVX2() {
	DequantizeUint8 = BaseDequantizeUint8_avx2
	QuantizeFloat32 = BaseQuantizeFloat32_avx2
}

func initQuantizeAVX512() {
	DequantizeUint8 = BaseDequantizeUint8_avx512
	QuantizeFloat32 = BaseQuantizeFloat32_avx512
}

func initQuantizeFallback() {
	DequantizeUint8 = BaseDequantizeUint8_fallback
	QuantizeFloat32 = BaseQuantizeFloat32_fallback
}
