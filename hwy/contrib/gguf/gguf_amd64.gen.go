// Code generated by github.com/ajroetker/go-highway/cmd/hwygen. DO NOT EDIT.

//go:build amd64 && goexperiment.simd

package gguf

import (
	"simd/archsimd"

	"github.com/ajroetker/go-highway/hwy"
)

var DequantizeIQ4NL func(data []uint8, output []float32)
var DequantizeQ2K func(data []uint8, output []float32)
var DequantizeQ3K func(data []uint8, output []float32)
var DequantizeQ4K func(data []uint8, output []float32)
var DequantizeQ4_0 func(data []uint8, output []float32)
var DequantizeQ5K func(data []uint8, output []float32)
var DequantizeQ6K func(data []uint8, output []float32)
var DequantizeQ8_0 func(data []uint8, output []float32)

func init() {
	initGgufAll()
}

func initGgufAll() {
	if hwy.NoSimdEnv() {
		initGgufFallback()
		return
	}
	if archsimd.X86.AVX512() {
		initGgufAVX512()
		return
	}
	if archsimd.X86.AVX2() {
		initGgufAVX2()
		return
	}
	initGgufFallback()
}

func initGgufAVX2() {
	DequantizeIQ4NL = BaseDequantizeIQ4NL_avx2
	DequantizeQ2K = BaseDequantizeQ2K_avx2
	DequantizeQ3K = BaseDequantizeQ3K_avx2
	DequantizeQ4K = BaseDequantizeQ4K_avx2
	DequantizeQ4_0 = BaseDequantizeQ4_0_avx2
	DequantizeQ5K = BaseDequantizeQ5K_avx2
	DequantizeQ6K = BaseDequantizeQ6K_avx2
	DequantizeQ8_0 = BaseDequantizeQ8_0_avx2
}

func initGgufAVX512() {
	DequantizeIQ4NL = BaseDequantizeIQ4NL_avx512
	DequantizeQ2K = BaseDequantizeQ2K_avx512
	DequantizeQ3K = BaseDequantizeQ3K_avx512
	DequantizeQ4K = BaseDequantizeQ4K_avx512
	DequantizeQ4_0 = BaseDequantizeQ4_0_avx512
	DequantizeQ5K = BaseDequantizeQ5K_avx512
	DequantizeQ6K = BaseDequantizeQ6K_avx512
	DequantizeQ8_0 = BaseDequantizeQ8_0_avx512
}

func initGgufFallback() {
	DequantizeIQ4NL = BaseDequantizeIQ4NL_fallback
	DequantizeQ2K = BaseDequantizeQ2K_fallback
	DequantizeQ3K = BaseDequantizeQ3K_fallback
	DequantizeQ4K = BaseDequantizeQ4K_fallback
	DequantizeQ4_0 = BaseDequantizeQ4_0_fallback
	DequantizeQ5K = BaseDequantizeQ5K_fallback
	DequantizeQ6K = BaseDequantizeQ6K_fallback
	DequantizeQ8_0 = BaseDequantizeQ8_0_fallback
}
