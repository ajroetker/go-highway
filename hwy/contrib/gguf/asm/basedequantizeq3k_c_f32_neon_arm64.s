//go:build !noasm && arm64
// Code generated by GoAT. DO NOT EDIT.
// versions:
// 	clang   21.1.8
// 	objdump 2.46.0.20260210
// flags: -march=armv8-a+simd+fp -fno-builtin-memset -O3
// source: /Users/ajroetker/go/src/github.com/ajroetker/go-highway/hwy/contrib/gguf/asm/basedequantizeq3k_c_f32_neon_arm64.c

#include "textflag.h"

// Constant pool data
DATA CPI0_0<>+0(SB)/4, $0x00ffffff
DATA CPI0_0<>+4(SB)/4, $0x01ffffff
DATA CPI0_0<>+8(SB)/4, $0x02ffffff
DATA CPI0_0<>+12(SB)/4, $0x03ffffff
GLOBL CPI0_0<>(SB), (RODATA|NOPTR), $16

TEXT Â·dequantizeq3k_c_f32_neon(SB), $128-32
	MOVD data+0(FP), R0
	MOVD output+8(FP), R1
	MOVD plen_data+16(FP), R2
	MOVD plen_output+24(FP), R3
	WORD $0xf9400049            // ldr	x9, [x2]
	CBZ  R9, BB0_9
	WORD $0xf101b93f            // cmp	x9, #110
	BLT  BB0_9
	WORD $0xd2800008            // mov	x8, #0                          ; =0x0
	WORD $0xd28f20aa            // mov	x10, #30981                     ; =0x7905
	WORD $0xf2b2094a            // movk	x10, #36938, lsl #16
	WORD $0xf2c094ea            // movk	x10, #1191, lsl #32
	WORD $0xf2e94f2a            // movk	x10, #19065, lsl #48
	WORD $0x9b4a7d29            // smulh	x9, x9, x10
	WORD $0x9345fd2a            // asr	x10, x9, #5
	WORD $0x8b49fd49            // add	x9, x10, x9, lsr #63
	WORD $0x9100802a            // add	x10, x1, #32
	WORD $0x52800dcb            // mov	w11, #110                       ; =0x6e
	WORD $0x0f018600            // movi.4h	v0, #48
	WORD $0x6f00e421            // movi.2d	v1, #0x000000000000ff
	WORD $0x910003ec            // mov	x12, sp
	WORD $0x4f000482            // movi.4s	v2, #4
	WORD $0x0f078783            // movi.4h	v3, #252
	MOVD $CPI0_0<>(SB), R13
	VLD1 (R13), [V4.B16]
	WORD $0x52a7000d            // mov	w13, #939524096                 ; =0x38000000

BB0_3:
	WORD $0x9b0b010e // madd	x14, x8, x11, x0
	WORD $0x3941b5cf // ldrb	w15, [x14, #109]
	WORD $0x53077df1 // lsr	w17, w15, #7
	WORD $0x530219f0 // ubfx	w16, w15, #2, #5
	WORD $0x53010221 // lsl	w1, w17, #31
	CBZW R16, BB0_5
	WORD $0x3941b1d1 // ldrb	w17, [x14, #108]
	WORD $0x331805f1 // bfi	w17, w15, #8, #2
	WORD $0x2a105c2f // orr	w15, w1, w16, lsl #23
	WORD $0x2a1135ef // orr	w15, w15, w17, lsl #13
	WORD $0x0b0d01e1 // add	w1, w15, w13

BB0_5:
	WORD $0xd280000f // mov	x15, #0                         ; =0x0
	WORD $0xd2800010 // mov	x16, #0                         ; =0x0
	WORD $0x910081d1 // add	x17, x14, #32
	WORD $0xbd4069c5 // ldr	s5, [x14, #104]
	WORD $0x2f08a4a5 // ushll.8h	v5, v5, #0
	WORD $0xbd4061c6 // ldr	s6, [x14, #96]
	WORD $0x2f08a4c6 // ushll.8h	v6, v6, #0
	WORD $0x0f1454a7 // shl.4h	v7, v5, #4
	WORD $0x0f1254b0 // shl.4h	v16, v5, #2
	WORD $0x2f1e04b1 // ushr.4h	v17, v5, #2
	WORD $0x2f0695e5 // bic.4h	v5, #207
	WORD $0x2f1c14c5 // usra.4h	v5, v6, #4
	WORD $0x2f079606 // bic.4h	v6, #240
	WORD $0x0e201ce7 // and.8b	v7, v7, v0
	WORD $0x0ea61ce6 // orr.8b	v6, v7, v6
	WORD $0x2f10a4c6 // ushll.4s	v6, v6, #0
	WORD $0x2f20a4c7 // ushll.2d	v7, v6, #0
	WORD $0x4e211ce7 // and.16b	v7, v7, v1
	WORD $0x6f20a4c6 // ushll2.2d	v6, v6, #0
	WORD $0x4e211cc6 // and.16b	v6, v6, v1
	WORD $0xad001be7 // stp	q7, q6, [sp]
	WORD $0xbd4065c6 // ldr	s6, [x14, #100]
	WORD $0x2f08a4c6 // ushll.8h	v6, v6, #0
	WORD $0x2f0095f1 // bic.4h	v17, #15
	WORD $0x2f1c14d1 // usra.4h	v17, v6, #4
	WORD $0x2f079606 // bic.4h	v6, #240
	WORD $0x0e201e07 // and.8b	v7, v16, v0
	WORD $0x0ea71cc6 // orr.8b	v6, v6, v7
	WORD $0x2f10a4c6 // ushll.4s	v6, v6, #0
	WORD $0x2f20a4c7 // ushll.2d	v7, v6, #0
	WORD $0x4e211ce7 // and.16b	v7, v7, v1
	WORD $0x6f20a4c6 // ushll2.2d	v6, v6, #0
	WORD $0x4e211cc6 // and.16b	v6, v6, v1
	WORD $0xad011be7 // stp	q7, q6, [sp, #32]
	WORD $0x2f10a4a5 // ushll.4s	v5, v5, #0
	WORD $0x2f20a4a6 // ushll.2d	v6, v5, #0
	WORD $0x4e211cc6 // and.16b	v6, v6, v1
	WORD $0x6f20a4a5 // ushll2.2d	v5, v5, #0
	WORD $0x4e211ca5 // and.16b	v5, v5, v1
	WORD $0xad0217e6 // stp	q6, q5, [sp, #64]
	WORD $0x2f10a625 // ushll.4s	v5, v17, #0
	WORD $0x2f20a4a6 // ushll.2d	v6, v5, #0
	WORD $0x4e211cc6 // and.16b	v6, v6, v1
	WORD $0x6f20a4a5 // ushll2.2d	v5, v5, #0
	WORD $0x4e211ca5 // and.16b	v5, v5, v1
	WORD $0xad0317e6 // stp	q6, q5, [sp, #96]
	WORD $0x1e270025 // fmov	s5, w1
	WORD $0xaa0a03e1 // mov	x1, x10

BB0_6:
	WORD $0xf8707982 // ldr	x2, [x12, x16, lsl #3]
	WORD $0xd1008042 // sub	x2, x2, #32
	WORD $0x9e220046 // scvtf	s6, x2
	WORD $0x1e2608a6 // fmul	s6, s5, s6
	WORD $0xd343fe03 // lsr	x3, x16, #3
	WORD $0x53010a04 // ubfx	w4, w16, #1, #2
	WORD $0x53017e05 // lsr	w5, w16, #1
	WORD $0x927c01e2 // and	x2, x15, #0x10
	WORD $0x331e7465 // bfi	w5, w3, #2, #30
	WORD $0x8b031623 // add	x3, x17, x3, lsl #5
	WORD $0x531f7884 // lsl	w4, w4, #1
	WORD $0xbc626867 // ldr	s7, [x3, x2]
	WORD $0x2f08a4e7 // ushll.8h	v7, v7, #0
	WORD $0x2f10a4f0 // ushll.4s	v16, v7, #0
	WORD $0x4e040c87 // dup.4s	v7, w4
	WORD $0x6ea0b8e7 // neg.4s	v7, v7
	WORD $0x6ea74611 // ushl.4s	v17, v16, v7
	WORD $0x6f071791 // bic.4s	v17, #252
	WORD $0xbc6269d0 // ldr	s16, [x14, x2]
	WORD $0x2f08a610 // ushll.8h	v16, v16, #0
	WORD $0x4e040cb2 // dup.4s	v18, w5
	WORD $0x2f10a613 // ushll.4s	v19, v16, #0
	WORD $0x6ea0ba50 // neg.4s	v16, v18
	WORD $0x6eb04672 // ushl.4s	v18, v19, v16
	WORD $0x4f225652 // shl.4s	v18, v18, #2
	WORD $0x4e221e52 // and.16b	v18, v18, v2
	WORD $0x4eb11e51 // orr.16b	v17, v18, v17
	WORD $0x0e612a31 // xtn.4h	v17, v17
	WORD $0x0e638631 // add.4h	v17, v17, v3
	WORD $0x0e001a31 // uzp1.8b	v17, v17, v0
	WORD $0x4e040231 // tbl.16b	v17, { v17 }, v4
	WORD $0x4f28e631 // scvtf.4s	v17, v17, #24
	WORD $0x4f869231 // fmul.4s	v17, v17, v6[0]
	WORD $0x3c9e0031 // stur	q17, [x1, #-32]
	WORD $0xb27e0044 // orr	x4, x2, #0x4
	WORD $0xbc646871 // ldr	s17, [x3, x4]
	WORD $0x2f08a631 // ushll.8h	v17, v17, #0
	WORD $0x2f10a631 // ushll.4s	v17, v17, #0
	WORD $0x6ea74631 // ushl.4s	v17, v17, v7
	WORD $0x6f071791 // bic.4s	v17, #252
	WORD $0xbc6469d2 // ldr	s18, [x14, x4]
	WORD $0x2f08a652 // ushll.8h	v18, v18, #0
	WORD $0x2f10a652 // ushll.4s	v18, v18, #0
	WORD $0x6eb04652 // ushl.4s	v18, v18, v16
	WORD $0x4f225652 // shl.4s	v18, v18, #2
	WORD $0x4e221e52 // and.16b	v18, v18, v2
	WORD $0x4eb11e51 // orr.16b	v17, v18, v17
	WORD $0x0e612a31 // xtn.4h	v17, v17
	WORD $0x0e638631 // add.4h	v17, v17, v3
	WORD $0x0e001a31 // uzp1.8b	v17, v17, v0
	WORD $0x4e040231 // tbl.16b	v17, { v17 }, v4
	WORD $0x4f28e631 // scvtf.4s	v17, v17, #24
	WORD $0x4f869231 // fmul.4s	v17, v17, v6[0]
	WORD $0x3c9f0031 // stur	q17, [x1, #-16]
	WORD $0xb27d0044 // orr	x4, x2, #0x8
	WORD $0xbc646871 // ldr	s17, [x3, x4]
	WORD $0x2f08a631 // ushll.8h	v17, v17, #0
	WORD $0x2f10a631 // ushll.4s	v17, v17, #0
	WORD $0x6ea74631 // ushl.4s	v17, v17, v7
	WORD $0x6f071791 // bic.4s	v17, #252
	WORD $0xbc6469d2 // ldr	s18, [x14, x4]
	WORD $0x2f08a652 // ushll.8h	v18, v18, #0
	WORD $0x2f10a652 // ushll.4s	v18, v18, #0
	WORD $0x6eb04652 // ushl.4s	v18, v18, v16
	WORD $0x4f225652 // shl.4s	v18, v18, #2
	WORD $0x4e221e52 // and.16b	v18, v18, v2
	WORD $0x4eb11e51 // orr.16b	v17, v18, v17
	WORD $0x0e612a31 // xtn.4h	v17, v17
	WORD $0x0e638631 // add.4h	v17, v17, v3
	WORD $0x0e001a31 // uzp1.8b	v17, v17, v0
	WORD $0x4e040231 // tbl.16b	v17, { v17 }, v4
	WORD $0x4f28e631 // scvtf.4s	v17, v17, #24
	WORD $0x4f869231 // fmul.4s	v17, v17, v6[0]
	WORD $0x3d800031 // str	q17, [x1]
	WORD $0xb27e0442 // orr	x2, x2, #0xc
	WORD $0xbc626871 // ldr	s17, [x3, x2]
	WORD $0x2f08a631 // ushll.8h	v17, v17, #0
	WORD $0x2f10a631 // ushll.4s	v17, v17, #0
	WORD $0x6ea74627 // ushl.4s	v7, v17, v7
	WORD $0xbc6269d1 // ldr	s17, [x14, x2]
	WORD $0x6f071787 // bic.4s	v7, #252
	WORD $0x2f08a631 // ushll.8h	v17, v17, #0
	WORD $0x2f10a631 // ushll.4s	v17, v17, #0
	WORD $0x6eb04630 // ushl.4s	v16, v17, v16
	WORD $0x4f225610 // shl.4s	v16, v16, #2
	WORD $0x4e221e10 // and.16b	v16, v16, v2
	WORD $0x4ea71e07 // orr.16b	v7, v16, v7
	WORD $0x0e6128e7 // xtn.4h	v7, v7
	WORD $0x0e6384e7 // add.4h	v7, v7, v3
	WORD $0x0e0018e7 // uzp1.8b	v7, v7, v0
	WORD $0x4e0400e7 // tbl.16b	v7, { v7 }, v4
	WORD $0x4f28e4e7 // scvtf.4s	v7, v7, #24
	WORD $0x4f8690e6 // fmul.4s	v6, v7, v6[0]
	WORD $0x3d800426 // str	q6, [x1, #16]
	WORD $0x91000610 // add	x16, x16, #1
	WORD $0x910041ef // add	x15, x15, #16
	WORD $0x91010021 // add	x1, x1, #64
	WORD $0xf100421f // cmp	x16, #16
	BNE  BB0_6
	WORD $0x91000508 // add	x8, x8, #1
	WORD $0x9110014a // add	x10, x10, #1024
	WORD $0xeb09011f // cmp	x8, x9
	BNE  BB0_3

BB0_9:
	RET
