//go:build !noasm && arm64
// Code generated by GoAT. DO NOT EDIT.
// versions:
// 	clang   21.1.8
// 	objdump 2.46.0.20260210
// flags: -march=armv8-a+simd+fp -fno-builtin-memset -O3
// source: /Users/ajroetker/go/src/github.com/ajroetker/go-highway/hwy/contrib/gguf/asm/basedequantizeq6k_c_f32_neon_arm64.c

#include "textflag.h"

// Constant pool data
DATA CPI0_0<>+0(SB)/4, $0x00ffffff
DATA CPI0_0<>+4(SB)/4, $0x01ffffff
DATA CPI0_0<>+8(SB)/4, $0x02ffffff
DATA CPI0_0<>+12(SB)/4, $0x03ffffff
GLOBL CPI0_0<>(SB), (RODATA|NOPTR), $16

TEXT Â·dequantizeq6k_c_f32_neon(SB), $0-32
	MOVD data+0(FP), R0
	MOVD output+8(FP), R1
	MOVD plen_data+16(FP), R2
	MOVD plen_output+24(FP), R3
	WORD $0xf9400049            // ldr	x9, [x2]
	CBZ  R9, BB0_8
	WORD $0xf103493f            // cmp	x9, #210
	BLT  BB0_8
	WORD $0xd2800008            // mov	x8, #0                          ; =0x0
	WORD $0xd289c0aa            // mov	x10, #19973                     ; =0x4e05
	WORD $0xf2a09c0a            // movk	x10, #1248, lsl #16
	WORD $0xf2dc09ca            // movk	x10, #57422, lsl #32
	WORD $0xf2e9c08a            // movk	x10, #19972, lsl #48
	WORD $0x9b4a7d29            // smulh	x9, x9, x10
	WORD $0x9346fd2a            // asr	x10, x9, #6
	WORD $0x8b49fd49            // add	x9, x10, x9, lsr #63
	WORD $0x9103000a            // add	x10, x0, #192
	WORD $0x9100802b            // add	x11, x1, #32
	WORD $0x52801a4c            // mov	w12, #210                       ; =0xd2
	WORD $0x4f010600            // movi.4s	v0, #48
	WORD $0x0f078401            // movi.4h	v1, #224
	MOVD $CPI0_0<>(SB), R13
	VLD1 (R13), [V2.B16]
	WORD $0x52a7000d            // mov	w13, #939524096                 ; =0x38000000

BB0_3:
	WORD $0x9b0c010e // madd	x14, x8, x12, x0
	WORD $0x394345cf // ldrb	w15, [x14, #209]
	WORD $0x53077df1 // lsr	w17, w15, #7
	WORD $0x530219f0 // ubfx	w16, w15, #2, #5
	WORD $0x53010221 // lsl	w1, w17, #31
	CBZW R16, BB0_5
	WORD $0x394341d1 // ldrb	w17, [x14, #208]
	WORD $0x331805f1 // bfi	w17, w15, #8, #2
	WORD $0x2a105c2f // orr	w15, w1, w16, lsl #23
	WORD $0x2a1135ef // orr	w15, w15, w17, lsl #13
	WORD $0x0b0d01e1 // add	w1, w15, w13

BB0_5:
	WORD $0xd280000f // mov	x15, #0                         ; =0x0
	WORD $0xd2800010 // mov	x16, #0                         ; =0x0
	WORD $0x910201d1 // add	x17, x14, #128
	WORD $0x1e270023 // fmov	s3, w1
	WORD $0xaa0b03e1 // mov	x1, x11

BB0_6:
	WORD $0x3c706944 // ldr	b4, [x10, x16]
	WORD $0x0f08a484 // sshll.8h	v4, v4, #0
	WORD $0x0f10a484 // sshll.4s	v4, v4, #0
	WORD $0x5e21d884 // scvtf	s4, s4
	WORD $0x1e240864 // fmul	s4, s3, s4
	WORD $0xd343fe02 // lsr	x2, x16, #3
	WORD $0x927c01e3 // and	x3, x15, #0x10
	WORD $0x927b01e4 // and	x4, x15, #0x20
	WORD $0x8b0219c5 // add	x5, x14, x2, lsl #6
	WORD $0x8b0400a4 // add	x4, x5, x4
	WORD $0x121e0205 // and	w5, w16, #0x4
	WORD $0x8b021622 // add	x2, x17, x2, lsl #5
	WORD $0x121f0606 // and	w6, w16, #0x6
	WORD $0xbc636885 // ldr	s5, [x4, x3]
	WORD $0x2f08a4a5 // ushll.8h	v5, v5, #0
	WORD $0x2f10a4a6 // ushll.4s	v6, v5, #0
	WORD $0x4e040ca5 // dup.4s	v5, w5
	WORD $0x6ea0b8a5 // neg.4s	v5, v5
	WORD $0x6ea544c7 // ushl.4s	v7, v6, v5
	WORD $0x6f071607 // bic.4s	v7, #240
	WORD $0xbc636846 // ldr	s6, [x2, x3]
	WORD $0x2f08a4c6 // ushll.8h	v6, v6, #0
	WORD $0x4e040cd0 // dup.4s	v16, w6
	WORD $0x2f10a4d1 // ushll.4s	v17, v6, #0
	WORD $0x6ea0ba06 // neg.4s	v6, v16
	WORD $0x6ea64630 // ushl.4s	v16, v17, v6
	WORD $0x4f245610 // shl.4s	v16, v16, #4
	WORD $0x4e201e10 // and.16b	v16, v16, v0
	WORD $0x4ea71e07 // orr.16b	v7, v16, v7
	WORD $0x0e6128e7 // xtn.4h	v7, v7
	WORD $0x0e6184e7 // add.4h	v7, v7, v1
	WORD $0x0e0018e7 // uzp1.8b	v7, v7, v0
	WORD $0x4e0200e7 // tbl.16b	v7, { v7 }, v2
	WORD $0x4f28e4e7 // scvtf.4s	v7, v7, #24
	WORD $0x4f8490e7 // fmul.4s	v7, v7, v4[0]
	WORD $0x3c9e0027 // stur	q7, [x1, #-32]
	WORD $0xb27e0065 // orr	x5, x3, #0x4
	WORD $0xbc656887 // ldr	s7, [x4, x5]
	WORD $0x2f08a4e7 // ushll.8h	v7, v7, #0
	WORD $0x2f10a4e7 // ushll.4s	v7, v7, #0
	WORD $0x6ea544e7 // ushl.4s	v7, v7, v5
	WORD $0x6f071607 // bic.4s	v7, #240
	WORD $0xbc656850 // ldr	s16, [x2, x5]
	WORD $0x2f08a610 // ushll.8h	v16, v16, #0
	WORD $0x2f10a610 // ushll.4s	v16, v16, #0
	WORD $0x6ea64610 // ushl.4s	v16, v16, v6
	WORD $0x4f245610 // shl.4s	v16, v16, #4
	WORD $0x4e201e10 // and.16b	v16, v16, v0
	WORD $0x4ea71e07 // orr.16b	v7, v16, v7
	WORD $0x0e6128e7 // xtn.4h	v7, v7
	WORD $0x0e6184e7 // add.4h	v7, v7, v1
	WORD $0x0e0018e7 // uzp1.8b	v7, v7, v0
	WORD $0x4e0200e7 // tbl.16b	v7, { v7 }, v2
	WORD $0x4f28e4e7 // scvtf.4s	v7, v7, #24
	WORD $0x4f8490e7 // fmul.4s	v7, v7, v4[0]
	WORD $0x3c9f0027 // stur	q7, [x1, #-16]
	WORD $0xb27d0065 // orr	x5, x3, #0x8
	WORD $0xbc656887 // ldr	s7, [x4, x5]
	WORD $0x2f08a4e7 // ushll.8h	v7, v7, #0
	WORD $0x2f10a4e7 // ushll.4s	v7, v7, #0
	WORD $0x6ea544e7 // ushl.4s	v7, v7, v5
	WORD $0x6f071607 // bic.4s	v7, #240
	WORD $0xbc656850 // ldr	s16, [x2, x5]
	WORD $0x2f08a610 // ushll.8h	v16, v16, #0
	WORD $0x2f10a610 // ushll.4s	v16, v16, #0
	WORD $0x6ea64610 // ushl.4s	v16, v16, v6
	WORD $0x4f245610 // shl.4s	v16, v16, #4
	WORD $0x4e201e10 // and.16b	v16, v16, v0
	WORD $0x4ea71e07 // orr.16b	v7, v16, v7
	WORD $0x0e6128e7 // xtn.4h	v7, v7
	WORD $0x0e6184e7 // add.4h	v7, v7, v1
	WORD $0x0e0018e7 // uzp1.8b	v7, v7, v0
	WORD $0x4e0200e7 // tbl.16b	v7, { v7 }, v2
	WORD $0x4f28e4e7 // scvtf.4s	v7, v7, #24
	WORD $0x4f8490e7 // fmul.4s	v7, v7, v4[0]
	WORD $0x3d800027 // str	q7, [x1]
	WORD $0xb27e0463 // orr	x3, x3, #0xc
	WORD $0xbc636887 // ldr	s7, [x4, x3]
	WORD $0x2f08a4e7 // ushll.8h	v7, v7, #0
	WORD $0x2f10a4e7 // ushll.4s	v7, v7, #0
	WORD $0x6ea544e5 // ushl.4s	v5, v7, v5
	WORD $0xbc636847 // ldr	s7, [x2, x3]
	WORD $0x6f071605 // bic.4s	v5, #240
	WORD $0x2f08a4e7 // ushll.8h	v7, v7, #0
	WORD $0x2f10a4e7 // ushll.4s	v7, v7, #0
	WORD $0x6ea644e6 // ushl.4s	v6, v7, v6
	WORD $0x4f2454c6 // shl.4s	v6, v6, #4
	WORD $0x4e201cc6 // and.16b	v6, v6, v0
	WORD $0x4ea51cc5 // orr.16b	v5, v6, v5
	WORD $0x0e6128a5 // xtn.4h	v5, v5
	WORD $0x0e6184a5 // add.4h	v5, v5, v1
	WORD $0x0e0018a5 // uzp1.8b	v5, v5, v0
	WORD $0x4e0200a5 // tbl.16b	v5, { v5 }, v2
	WORD $0x4f28e4a5 // scvtf.4s	v5, v5, #24
	WORD $0x4f8490a4 // fmul.4s	v4, v5, v4[0]
	WORD $0x3d800424 // str	q4, [x1, #16]
	WORD $0x91000610 // add	x16, x16, #1
	WORD $0x910041ef // add	x15, x15, #16
	WORD $0x91010021 // add	x1, x1, #64
	WORD $0xf100421f // cmp	x16, #16
	BNE  BB0_6
	WORD $0x91000508 // add	x8, x8, #1
	WORD $0x9103494a // add	x10, x10, #210
	WORD $0x9110016b // add	x11, x11, #1024
	WORD $0xeb09011f // cmp	x8, x9
	BNE  BB0_3

BB0_8:
	RET
