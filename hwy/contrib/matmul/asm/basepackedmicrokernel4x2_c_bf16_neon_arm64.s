//go:build !noasm && arm64
// Code generated by GoAT. DO NOT EDIT.
// versions:
// 	clang   21.1.8
// 	objdump 2.46.0.20260210
// flags: -march=armv8.6-a+bf16+simd -fno-builtin-memset -O3
// source: /Users/ajroetker/go/src/github.com/ajroetker/go-highway/hwy/contrib/matmul/asm/basepackedmicrokernel4x2_c_bf16_neon_arm64.c

TEXT Â·packedmicrokernel4x2_c_bf16_neon(SB), $64-88
	MOVD packedA+0(FP), R0
	MOVD packedB+8(FP), R1
	MOVD output+16(FP), R2
	MOVD poutputStride+24(FP), R3
	MOVD poutRowStart+32(FP), R4
	MOVD poutColStart+40(FP), R5
	MOVD ppanelK+48(FP), R6
	MOVD planes+56(FP), R7
	MOVD plen_packedA+64(FP), R8
	MOVD R8, 32(RSP)
	MOVD plen_packedB+72(FP), R8
	MOVD R8, 40(RSP)
	MOVD plen_output+80(FP), R8
	MOVD R8, 48(RSP)
	WORD $0xa90057f6              // stp	x22, x21, [sp, #-32]!           ; 16-byte Folded Spill [transformed]
	WORD $0xa9014ff4              // stp	x20, x19, [sp, #16]             ; 16-byte Folded Spill
	WORD $0xf94000ec              // ldr	x12, [x7]
	WORD $0xf94000aa              // ldr	x10, [x5]
	WORD $0xf940008b              // ldr	x11, [x4]
	WORD $0xf9400069              // ldr	x9, [x3]
	WORD $0xf94000cd              // ldr	x13, [x6]
	WORD $0xd37ff988              // lsl	x8, x12, #1
	WORD $0xf10011af              // subs	x15, x13, #4
	BLT  BB0_4
	WORD $0xd280000e              // mov	x14, #0                         ; =0x0
	WORD $0x6f00e416              // movi.2d	v22, #0000000000000000
	WORD $0x6f00e417              // movi.2d	v23, #0000000000000000
	WORD $0xd37df190              // lsl	x16, x12, #3
	WORD $0x6f00e414              // movi.2d	v20, #0000000000000000
	WORD $0xd37ced91              // lsl	x17, x12, #4
	WORD $0x6f00e415              // movi.2d	v21, #0000000000000000
	WORD $0x91004003              // add	x3, x0, #16
	WORD $0x6f00e412              // movi.2d	v18, #0000000000000000
	WORD $0x52800064              // mov	w4, #3                          ; =0x3
	WORD $0x6f00e413              // movi.2d	v19, #0000000000000000
	WORD $0xaa0103e5              // mov	x5, x1
	WORD $0x6f00e410              // movi.2d	v16, #0000000000000000
	WORD $0x6f00e411              // movi.2d	v17, #0000000000000000
	WORD $0x6f00e406              // movi.2d	v6, #0000000000000000
	WORD $0x6f00e407              // movi.2d	v7, #0000000000000000
	WORD $0x6f00e404              // movi.2d	v4, #0000000000000000
	WORD $0x6f00e405              // movi.2d	v5, #0000000000000000
	WORD $0x6f00e402              // movi.2d	v2, #0000000000000000
	WORD $0x6f00e403              // movi.2d	v3, #0000000000000000
	WORD $0x6f00e401              // movi.2d	v1, #0000000000000000
	WORD $0x6f00e400              // movi.2d	v0, #0000000000000000

BB0_2:
	WORD $0xd1004066 // sub	x6, x3, #16
	WORD $0x0d40c4d8 // ld1r.4h	{ v24 }, [x6]
	WORD $0x2e613b1a // shll.4s	v26, v24, #16
	WORD $0x3dc000b9 // ldr	q25, [x5]
	WORD $0x2e613b38 // shll.4s	v24, v25, #16
	WORD $0x4e3acf16 // fmla.4s	v22, v24, v26
	WORD $0x6e613b39 // shll2.4s	v25, v25, #16
	WORD $0x4e3acf37 // fmla.4s	v23, v25, v26
	WORD $0x8b0800a6 // add	x6, x5, x8
	WORD $0x8b0800c7 // add	x7, x6, x8
	WORD $0x3dc000db // ldr	q27, [x6]
	WORD $0x2e613b7c // shll.4s	v28, v27, #16
	WORD $0xd1003866 // sub	x6, x3, #14
	WORD $0x4e3acf94 // fmla.4s	v20, v28, v26
	WORD $0xd1003073 // sub	x19, x3, #12
	WORD $0x6e613b7b // shll2.4s	v27, v27, #16
	WORD $0x0d40c4dd // ld1r.4h	{ v29 }, [x6]
	WORD $0xd1002866 // sub	x6, x3, #10
	WORD $0x4e3acf75 // fmla.4s	v21, v27, v26
	WORD $0x2e613bba // shll.4s	v26, v29, #16
	WORD $0x4e3acf12 // fmla.4s	v18, v24, v26
	WORD $0x4e3acf33 // fmla.4s	v19, v25, v26
	WORD $0x4e3acf90 // fmla.4s	v16, v28, v26
	WORD $0x4e3acf71 // fmla.4s	v17, v27, v26
	WORD $0x0d40c67a // ld1r.4h	{ v26 }, [x19]
	WORD $0x2e613b5a // shll.4s	v26, v26, #16
	WORD $0x4e3acf06 // fmla.4s	v6, v24, v26
	WORD $0x4e3acf27 // fmla.4s	v7, v25, v26
	WORD $0x4e3acf84 // fmla.4s	v4, v28, v26
	WORD $0x4e3acf65 // fmla.4s	v5, v27, v26
	WORD $0x0d40c4da // ld1r.4h	{ v26 }, [x6]
	WORD $0x2e613b5a // shll.4s	v26, v26, #16
	WORD $0x4e3acf02 // fmla.4s	v2, v24, v26
	WORD $0x4e3acf23 // fmla.4s	v3, v25, v26
	WORD $0x4e3acf81 // fmla.4s	v1, v28, v26
	WORD $0x4e3acf60 // fmla.4s	v0, v27, v26
	WORD $0x3dc000f8 // ldr	q24, [x7]
	WORD $0x8b0800e6 // add	x6, x7, x8
	WORD $0x8b0800c7 // add	x7, x6, x8
	WORD $0x3dc000d9 // ldr	q25, [x6]
	WORD $0xd1002066 // sub	x6, x3, #8
	WORD $0xd1001873 // sub	x19, x3, #6
	WORD $0xd1001074 // sub	x20, x3, #4
	WORD $0xd1000875 // sub	x21, x3, #2
	WORD $0x0d40c4da // ld1r.4h	{ v26 }, [x6]
	WORD $0x2e613b5a // shll.4s	v26, v26, #16
	WORD $0x2e613b1b // shll.4s	v27, v24, #16
	WORD $0x4e3acf76 // fmla.4s	v22, v27, v26
	WORD $0x6e613b18 // shll2.4s	v24, v24, #16
	WORD $0x4e3acf17 // fmla.4s	v23, v24, v26
	WORD $0x2e613b3c // shll.4s	v28, v25, #16
	WORD $0x4e3acf94 // fmla.4s	v20, v28, v26
	WORD $0x6e613b39 // shll2.4s	v25, v25, #16
	WORD $0x4e3acf35 // fmla.4s	v21, v25, v26
	WORD $0x0d40c67a // ld1r.4h	{ v26 }, [x19]
	WORD $0x2e613b5a // shll.4s	v26, v26, #16
	WORD $0x4e3acf72 // fmla.4s	v18, v27, v26
	WORD $0x4e3acf13 // fmla.4s	v19, v24, v26
	WORD $0x4e3acf90 // fmla.4s	v16, v28, v26
	WORD $0x4e3acf31 // fmla.4s	v17, v25, v26
	WORD $0x0d40c69a // ld1r.4h	{ v26 }, [x20]
	WORD $0x2e613b5a // shll.4s	v26, v26, #16
	WORD $0x4e3acf66 // fmla.4s	v6, v27, v26
	WORD $0x4e3acf07 // fmla.4s	v7, v24, v26
	WORD $0x4e3acf84 // fmla.4s	v4, v28, v26
	WORD $0x0d40c6bd // ld1r.4h	{ v29 }, [x21]
	WORD $0x4e3acf25 // fmla.4s	v5, v25, v26
	WORD $0x2e613bba // shll.4s	v26, v29, #16
	WORD $0x4e3acf62 // fmla.4s	v2, v27, v26
	WORD $0x4e3acf03 // fmla.4s	v3, v24, v26
	WORD $0x4e3acf81 // fmla.4s	v1, v28, v26
	WORD $0x4e3acf20 // fmla.4s	v0, v25, v26
	WORD $0x3dc000f8 // ldr	q24, [x7]
	WORD $0x8b0800e6 // add	x6, x7, x8
	WORD $0x8b0800c7 // add	x7, x6, x8
	WORD $0x3dc000d9 // ldr	q25, [x6]
	WORD $0x91001066 // add	x6, x3, #4
	WORD $0x91001873 // add	x19, x3, #6
	WORD $0xaa0303f4 // mov	x20, x3
	WORD $0x0ddfc69a // ld1r.4h	{ v26 }, [x20], #2
	WORD $0x2e613b5a // shll.4s	v26, v26, #16
	WORD $0x2e613b1b // shll.4s	v27, v24, #16
	WORD $0x4e3acf76 // fmla.4s	v22, v27, v26
	WORD $0x6e613b18 // shll2.4s	v24, v24, #16
	WORD $0x4e3acf17 // fmla.4s	v23, v24, v26
	WORD $0x2e613b3c // shll.4s	v28, v25, #16
	WORD $0x4e3acf94 // fmla.4s	v20, v28, v26
	WORD $0x6e613b39 // shll2.4s	v25, v25, #16
	WORD $0x4e3acf35 // fmla.4s	v21, v25, v26
	WORD $0x0d40c69a // ld1r.4h	{ v26 }, [x20]
	WORD $0x2e613b5a // shll.4s	v26, v26, #16
	WORD $0x4e3acf72 // fmla.4s	v18, v27, v26
	WORD $0x4e3acf13 // fmla.4s	v19, v24, v26
	WORD $0x4e3acf90 // fmla.4s	v16, v28, v26
	WORD $0x4e3acf31 // fmla.4s	v17, v25, v26
	WORD $0x0d40c4da // ld1r.4h	{ v26 }, [x6]
	WORD $0x2e613b5a // shll.4s	v26, v26, #16
	WORD $0x4e3acf66 // fmla.4s	v6, v27, v26
	WORD $0x4e3acf07 // fmla.4s	v7, v24, v26
	WORD $0x4e3acf84 // fmla.4s	v4, v28, v26
	WORD $0x4e3acf25 // fmla.4s	v5, v25, v26
	WORD $0x0d40c67a // ld1r.4h	{ v26 }, [x19]
	WORD $0x2e613b5a // shll.4s	v26, v26, #16
	WORD $0x4e3acf62 // fmla.4s	v2, v27, v26
	WORD $0x4e3acf03 // fmla.4s	v3, v24, v26
	WORD $0x4e3acf81 // fmla.4s	v1, v28, v26
	WORD $0x4e3acf20 // fmla.4s	v0, v25, v26
	WORD $0x3ce868f9 // ldr	q25, [x7, x8]
	WORD $0x3dc000fa // ldr	q26, [x7]
	WORD $0x91002066 // add	x6, x3, #8
	WORD $0x91002873 // add	x19, x3, #10
	WORD $0x91003067 // add	x7, x3, #12
	WORD $0x0d40c4d8 // ld1r.4h	{ v24 }, [x6]
	WORD $0x91003866 // add	x6, x3, #14
	WORD $0x2e613b1b // shll.4s	v27, v24, #16
	WORD $0x2e613b58 // shll.4s	v24, v26, #16
	WORD $0x4e3bcf16 // fmla.4s	v22, v24, v27
	WORD $0x6e613b5a // shll2.4s	v26, v26, #16
	WORD $0x4e3bcf57 // fmla.4s	v23, v26, v27
	WORD $0x2e613b3c // shll.4s	v28, v25, #16
	WORD $0x4e3bcf94 // fmla.4s	v20, v28, v27
	WORD $0x8b1001ce // add	x14, x14, x16
	WORD $0x91001084 // add	x4, x4, #4
	WORD $0x8b1100a5 // add	x5, x5, x17
	WORD $0x91008063 // add	x3, x3, #32
	WORD $0x6e613b39 // shll2.4s	v25, v25, #16
	WORD $0x4e3bcf35 // fmla.4s	v21, v25, v27
	WORD $0x0d40c67b // ld1r.4h	{ v27 }, [x19]
	WORD $0x2e613b7b // shll.4s	v27, v27, #16
	WORD $0x4e3bcf12 // fmla.4s	v18, v24, v27
	WORD $0x4e3bcf53 // fmla.4s	v19, v26, v27
	WORD $0x4e3bcf90 // fmla.4s	v16, v28, v27
	WORD $0x4e3bcf31 // fmla.4s	v17, v25, v27
	WORD $0x0d40c4fb // ld1r.4h	{ v27 }, [x7]
	WORD $0x2e613b7b // shll.4s	v27, v27, #16
	WORD $0x4e3bcf06 // fmla.4s	v6, v24, v27
	WORD $0x4e3bcf47 // fmla.4s	v7, v26, v27
	WORD $0x4e3bcf84 // fmla.4s	v4, v28, v27
	WORD $0x4e3bcf25 // fmla.4s	v5, v25, v27
	WORD $0x0d40c4db // ld1r.4h	{ v27 }, [x6]
	WORD $0x2e613b7b // shll.4s	v27, v27, #16
	WORD $0x4e3bcf02 // fmla.4s	v2, v24, v27
	WORD $0x4e3bcf43 // fmla.4s	v3, v26, v27
	WORD $0x4e3bcf81 // fmla.4s	v1, v28, v27
	WORD $0x4e3bcf20 // fmla.4s	v0, v25, v27
	WORD $0xeb0d009f // cmp	x4, x13
	BLT  BB0_2
	WORD $0xd37ef5f0 // lsl	x16, x15, #2
	WORD $0x927cee10 // and	x16, x16, #0xfffffffffffffff0
	WORD $0x91004210 // add	x16, x16, #16
	WORD $0x927ef5ef // and	x15, x15, #0xfffffffffffffffc
	WORD $0x910011ef // add	x15, x15, #4
	WORD $0xeb0f01ad // subs	x13, x13, x15
	BGT  BB0_5
	B    BB0_7

BB0_4:
	WORD $0xd280000f // mov	x15, #0                         ; =0x0
	WORD $0xd280000e // mov	x14, #0                         ; =0x0
	WORD $0xd2800010 // mov	x16, #0                         ; =0x0
	WORD $0x6f00e400 // movi.2d	v0, #0000000000000000
	WORD $0x6f00e401 // movi.2d	v1, #0000000000000000
	WORD $0x6f00e403 // movi.2d	v3, #0000000000000000
	WORD $0x6f00e402 // movi.2d	v2, #0000000000000000
	WORD $0x6f00e405 // movi.2d	v5, #0000000000000000
	WORD $0x6f00e404 // movi.2d	v4, #0000000000000000
	WORD $0x6f00e407 // movi.2d	v7, #0000000000000000
	WORD $0x6f00e406 // movi.2d	v6, #0000000000000000
	WORD $0x6f00e411 // movi.2d	v17, #0000000000000000
	WORD $0x6f00e410 // movi.2d	v16, #0000000000000000
	WORD $0x6f00e413 // movi.2d	v19, #0000000000000000
	WORD $0x6f00e412 // movi.2d	v18, #0000000000000000
	WORD $0x6f00e415 // movi.2d	v21, #0000000000000000
	WORD $0x6f00e414 // movi.2d	v20, #0000000000000000
	WORD $0x6f00e417 // movi.2d	v23, #0000000000000000
	WORD $0x6f00e416 // movi.2d	v22, #0000000000000000
	WORD $0xeb0f01ad // subs	x13, x13, x15
	BLE  BB0_7

BB0_5:
	WORD $0x8b0e042e // add	x14, x1, x14, lsl #1
	WORD $0xd37ef58c // lsl	x12, x12, #2
	WORD $0x8b10040f // add	x15, x0, x16, lsl #1
	WORD $0x910011ef // add	x15, x15, #4

BB0_6:
	WORD $0x3dc001d8 // ldr	q24, [x14]
	WORD $0x3ce869d9 // ldr	q25, [x14, x8]
	WORD $0xd10011f0 // sub	x16, x15, #4
	WORD $0x0d40c61a // ld1r.4h	{ v26 }, [x16]
	WORD $0xd10009f0 // sub	x16, x15, #2
	WORD $0x2e613b5a // shll.4s	v26, v26, #16
	WORD $0x2e613b1b // shll.4s	v27, v24, #16
	WORD $0x4e3acf76 // fmla.4s	v22, v27, v26
	WORD $0x6e613b18 // shll2.4s	v24, v24, #16
	WORD $0x4e3acf17 // fmla.4s	v23, v24, v26
	WORD $0x2e613b3c // shll.4s	v28, v25, #16
	WORD $0x4e3acf94 // fmla.4s	v20, v28, v26
	WORD $0x6e613b39 // shll2.4s	v25, v25, #16
	WORD $0x4e3acf35 // fmla.4s	v21, v25, v26
	WORD $0x0d40c61a // ld1r.4h	{ v26 }, [x16]
	WORD $0x2e613b5a // shll.4s	v26, v26, #16
	WORD $0x4e3acf72 // fmla.4s	v18, v27, v26
	WORD $0x4e3acf13 // fmla.4s	v19, v24, v26
	WORD $0x4e3acf90 // fmla.4s	v16, v28, v26
	WORD $0x4e3acf31 // fmla.4s	v17, v25, v26
	WORD $0xaa0f03f0 // mov	x16, x15
	WORD $0x0ddfc61a // ld1r.4h	{ v26 }, [x16], #2
	WORD $0x2e613b5a // shll.4s	v26, v26, #16
	WORD $0x4e3acf66 // fmla.4s	v6, v27, v26
	WORD $0x4e3acf07 // fmla.4s	v7, v24, v26
	WORD $0x4e3acf84 // fmla.4s	v4, v28, v26
	WORD $0x4e3acf25 // fmla.4s	v5, v25, v26
	WORD $0x0d40c61a // ld1r.4h	{ v26 }, [x16]
	WORD $0x2e613b5a // shll.4s	v26, v26, #16
	WORD $0x4e3acf62 // fmla.4s	v2, v27, v26
	WORD $0x4e3acf03 // fmla.4s	v3, v24, v26
	WORD $0x4e3acf81 // fmla.4s	v1, v28, v26
	WORD $0x4e3acf20 // fmla.4s	v0, v25, v26
	WORD $0x8b0c01ce // add	x14, x14, x12
	WORD $0x910021ef // add	x15, x15, #8
	WORD $0xf10005ad // subs	x13, x13, #1
	BNE  BB0_6

BB0_7:
	WORD $0x6f3006f9 // ushr.4s	v25, v23, #16
	WORD $0x4f000438 // movi.4s	v24, #1
	WORD $0x4e381f39 // and.16b	v25, v25, v24
	WORD $0x9b0b292a // madd	x10, x9, x11, x10
	WORD $0x4eb986f7 // add.4s	v23, v23, v25
	WORD $0x6f3006d9 // ushr.4s	v25, v22, #16
	WORD $0x4e381f39 // and.16b	v25, v25, v24
	WORD $0x4eb986d9 // add.4s	v25, v22, v25
	WORD $0x4f03c7f6 // movi.4s	v22, #127, msl #8
	WORD $0x0e764339 // addhn.4h	v25, v25, v22
	WORD $0x4e7642f9 // addhn2.8h	v25, v23, v22
	WORD $0x8b0a044a // add	x10, x2, x10, lsl #1
	WORD $0x3d800159 // str	q25, [x10]
	WORD $0x6f3006b7 // ushr.4s	v23, v21, #16
	WORD $0x4e381ef7 // and.16b	v23, v23, v24
	WORD $0x4eb786b5 // add.4s	v21, v21, v23
	WORD $0x6f300697 // ushr.4s	v23, v20, #16
	WORD $0x4e381ef7 // and.16b	v23, v23, v24
	WORD $0x4eb78694 // add.4s	v20, v20, v23
	WORD $0x0e764294 // addhn.4h	v20, v20, v22
	WORD $0x4e7642b4 // addhn2.8h	v20, v21, v22
	WORD $0x3ca86954 // str	q20, [x10, x8]
	WORD $0x6f300674 // ushr.4s	v20, v19, #16
	WORD $0x4e381e94 // and.16b	v20, v20, v24
	WORD $0x4eb48673 // add.4s	v19, v19, v20
	WORD $0x6f300654 // ushr.4s	v20, v18, #16
	WORD $0x4e381e94 // and.16b	v20, v20, v24
	WORD $0x4eb48652 // add.4s	v18, v18, v20
	WORD $0x0e764252 // addhn.4h	v18, v18, v22
	WORD $0x4e764272 // addhn2.8h	v18, v19, v22
	WORD $0xd37ff929 // lsl	x9, x9, #1
	WORD $0x8b09014a // add	x10, x10, x9
	WORD $0x8b09014b // add	x11, x10, x9
	WORD $0x3d800152 // str	q18, [x10]
	WORD $0x6f300632 // ushr.4s	v18, v17, #16
	WORD $0x4e381e52 // and.16b	v18, v18, v24
	WORD $0x4eb28631 // add.4s	v17, v17, v18
	WORD $0x6f300612 // ushr.4s	v18, v16, #16
	WORD $0x4e381e52 // and.16b	v18, v18, v24
	WORD $0x4eb28610 // add.4s	v16, v16, v18
	WORD $0x0e764210 // addhn.4h	v16, v16, v22
	WORD $0x4e764230 // addhn2.8h	v16, v17, v22
	WORD $0x3ca86950 // str	q16, [x10, x8]
	WORD $0x6f3004f0 // ushr.4s	v16, v7, #16
	WORD $0x4e381e10 // and.16b	v16, v16, v24
	WORD $0x4eb084e7 // add.4s	v7, v7, v16
	WORD $0x6f3004d0 // ushr.4s	v16, v6, #16
	WORD $0x4e381e10 // and.16b	v16, v16, v24
	WORD $0x4eb084c6 // add.4s	v6, v6, v16
	WORD $0x0e7640c6 // addhn.4h	v6, v6, v22
	WORD $0x4e7640e6 // addhn2.8h	v6, v7, v22
	WORD $0x3d800166 // str	q6, [x11]
	WORD $0x6f3004a6 // ushr.4s	v6, v5, #16
	WORD $0x4e381cc6 // and.16b	v6, v6, v24
	WORD $0x4ea684a5 // add.4s	v5, v5, v6
	WORD $0x6f300486 // ushr.4s	v6, v4, #16
	WORD $0x4e381cc6 // and.16b	v6, v6, v24
	WORD $0x4ea68484 // add.4s	v4, v4, v6
	WORD $0x0e764084 // addhn.4h	v4, v4, v22
	WORD $0x4e7640a4 // addhn2.8h	v4, v5, v22
	WORD $0x3ca86964 // str	q4, [x11, x8]
	WORD $0x6f300464 // ushr.4s	v4, v3, #16
	WORD $0x4e381c84 // and.16b	v4, v4, v24
	WORD $0x4ea48463 // add.4s	v3, v3, v4
	WORD $0x6f300444 // ushr.4s	v4, v2, #16
	WORD $0x4e381c84 // and.16b	v4, v4, v24
	WORD $0x4ea48442 // add.4s	v2, v2, v4
	WORD $0x0e764042 // addhn.4h	v2, v2, v22
	WORD $0x4e764062 // addhn2.8h	v2, v3, v22
	WORD $0x8b090169 // add	x9, x11, x9
	WORD $0x3d800122 // str	q2, [x9]
	WORD $0x6f300402 // ushr.4s	v2, v0, #16
	WORD $0x4e381c42 // and.16b	v2, v2, v24
	WORD $0x4ea28400 // add.4s	v0, v0, v2
	WORD $0x6f300422 // ushr.4s	v2, v1, #16
	WORD $0x4e381c42 // and.16b	v2, v2, v24
	WORD $0x4ea28421 // add.4s	v1, v1, v2
	WORD $0x0e764021 // addhn.4h	v1, v1, v22
	WORD $0x4e764001 // addhn2.8h	v1, v0, v22
	WORD $0x3ca86921 // str	q1, [x9, x8]
	WORD $0xa9414ff4 // ldp	x20, x19, [sp, #16]             ; 16-byte Folded Reload
	WORD $0xa94057f6 // ldp	x22, x21, [sp], #32             ; 16-byte Folded Reload [transformed]
	RET
