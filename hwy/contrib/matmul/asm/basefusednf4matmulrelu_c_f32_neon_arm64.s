//go:build !noasm && arm64
// Code generated by GoAT. DO NOT EDIT.
// versions:
// 	clang   21.1.8
// 	objdump 2.46.0.20260210
// flags: -march=armv8-a+simd+fp -fno-builtin-memset -O3
// source: /Users/ajroetker/go/src/github.com/ajroetker/go-highway/hwy/contrib/matmul/asm/basefusednf4matmulrelu_c_f32_neon_arm64.c

TEXT Â·fusednf4matmulrelu_c_f32_neon(SB), $131216-112
	MOVD input+0(FP), R0
	MOVD packed+8(FP), R1
	MOVD scales+16(FP), R2
	MOVD bias+24(FP), R3
	MOVD output+32(FP), R4
	MOVD pM+40(FP), R5
	MOVD pK+48(FP), R6
	MOVD pN+56(FP), R7
	MOVD pgroupSize+64(FP), R8
	MOVD R8, 96(RSP)
	MOVD plen_input+72(FP), R8
	MOVD R8, 104(RSP)
	MOVD plen_packed+80(FP), R8
	MOVD R8, 112(RSP)
	MOVD plen_scales+88(FP), R8
	MOVD R8, 120(RSP)
	MOVD plen_bias+96(FP), R8
	MOVD R8, 128(RSP)
	MOVD plen_output+104(FP), R8
	MOVD R8, 136(RSP)
	WORD $0xf80103f9             // str	x25, [sp, #-80]!                ; 8-byte Folded Spill [transformed]
	WORD $0xa9025ff8             // stp	x24, x23, [sp, #16]             ; 16-byte Folded Spill [offset adjusted]
	WORD $0xa90357f6             // stp	x22, x21, [sp, #32]             ; 16-byte Folded Spill [offset adjusted]
	WORD $0xa9044ff4             // stp	x20, x19, [sp, #48]             ; 16-byte Folded Spill [offset adjusted]
	WORD $0xa9057bfd             // stp	x29, x30, [sp, #64]             ; 16-byte Folded Spill [offset adjusted]
	WORD $0x910143fd             // add	x29, sp, #64 [offset adjusted]
	WORD $0xf81b83a0             // stur	x0, [x29, #-72]                 ; 8-byte Folded Spill
	WORD $0xf94000c8             // ldr	x8, [x6]
	WORD $0xf94000a9             // ldr	x9, [x5]
	WORD $0xf94000ea             // ldr	x10, [x7]
	WORD $0xf100013f             // cmp	x9, #0
	WORD $0xfa401904             // ccmp	x8, #0, #4, ne
	WORD $0xfa401944             // ccmp	x10, #0, #4, ne
	BEQ  BB0_34
	WORD $0x914083eb             // mov	x11, sp [transformed]
	WORD $0xf81b03ab             // stur	x11, [x29, #-80]                ; 8-byte Folded Spill
	WORD $0xd10103eb             // sub	x11, sp, #64
	WORD $0x914083ed             // mov	x13, sp [transformed]
	WORD $0xd37ef54c             // lsl	x12, x10, #2
	WORD $0xf81c83ac             // stur	x12, [x29, #-56]                ; 8-byte Folded Spill
	WORD $0x91003d8e             // add	x14, x12, #15
	WORD $0x927cedce             // and	x14, x14, #0xfffffffffffffff0
	WORD $0xcb0e01ad             // sub	x13, x13, x14
	WORD $0xf100053f             // cmp	x9, #1
	BLT  BB0_33
	WORD $0xd280000e             // mov	x14, #0                         ; =0x0
	WORD $0xf9400baf             // ldr	x15, [x29, #16]
	WORD $0xf94001ef             // ldr	x15, [x15]
	WORD $0x8b0f0150             // add	x16, x10, x15
	WORD $0xd1000611             // sub	x17, x16, #1
	WORD $0x90000010             // adrp	x16, _nf4LookupTable@PAGE
	WORD $0x91000210             // add	x16, x16, _nf4LookupTable@PAGEOFF
	WORD $0x2f00e400             // movi	d0, #0000000000000000
	WORD $0x6f00e401             // movi.2d	v1, #0000000000000000
	WORD $0x9acf0e31             // sdiv	x17, x17, x15
	B    BB0_4

BB0_3:
	WORD $0x910005ce // add	x14, x14, #1
	WORD $0xf85c83ac // ldur	x12, [x29, #-56]                ; 8-byte Folded Reload
	WORD $0x8b0c0084 // add	x4, x4, x12
	WORD $0xeb0901df // cmp	x14, x9
	BEQ  BB0_33

BB0_4:
	WORD $0xaa0d03e6 // mov	x6, x13
	WORD $0xaa0a03e7 // mov	x7, x10
	WORD $0xf100055f // cmp	x10, #1
	BLT  BB0_6

BB0_5:
	WORD $0xb80044df // str	wzr, [x6], #4
	WORD $0xf10004e7 // subs	x7, x7, #1
	BNE  BB0_5

BB0_6:
	WORD $0xf100051f // cmp	x8, #1
	BLT  BB0_21
	WORD $0xd2800006 // mov	x6, #0                          ; =0x0
	WORD $0xd2800007 // mov	x7, #0                          ; =0x0
	WORD $0x9b087dd3 // mul	x19, x14, x8
	WORD $0xf85b83ac // ldur	x12, [x29, #-72]                ; 8-byte Folded Reload
	WORD $0x8b130993 // add	x19, x12, x19, lsl #2
	WORD $0x52800034 // mov	w20, #1                         ; =0x1
	B    BB0_9

BB0_8:
	WORD $0x910004e7 // add	x7, x7, #1
	WORD $0x4a0a0294 // eor	w20, w20, w10
	WORD $0x8b0a00c6 // add	x6, x6, x10
	WORD $0xeb0800ff // cmp	x7, x8
	BEQ  BB0_21

BB0_9:
	WORD $0xbc677a62 // ldr	s2, [x19, x7, lsl #2]
	WORD $0x9b117cf5 // mul	x21, x7, x17
	WORD $0x8b150855 // add	x21, x2, x21, lsl #2
	WORD $0xf100415f // cmp	x10, #16
	BGE  BB0_11
	WORD $0xd2800016 // mov	x22, #0                         ; =0x0
	B    BB0_15

BB0_11:
	WORD $0xd2800017 // mov	x23, #0                         ; =0x0
	WORD $0xaa0603f8 // mov	x24, x6
	WORD $0x52800219 // mov	w25, #16                        ; =0x10

BB0_12:
	WORD $0xd2800016 // mov	x22, #0                         ; =0x0

BB0_13:
	WORD $0x8b1602fe // add	x30, x23, x22
	WORD $0x8b160305 // add	x5, x24, x22
	WORD $0xd341fcac // lsr	x12, x5, #1
	WORD $0x386c682c // ldrb	w12, [x1, x12]
	WORD $0x12000d80 // and	w0, w12, #0xf
	WORD $0x53047d8c // lsr	w12, w12, #4
	WORD $0xf24000bf // tst	x5, #0x1
	WORD $0x1a8c000c // csel	w12, w0, w12, eq
	WORD $0x9acf0fc0 // sdiv	x0, x30, x15
	WORD $0xbc607aa3 // ldr	s3, [x21, x0, lsl #2]
	WORD $0xbc6c5a04 // ldr	s4, [x16, w12, uxtw #2]
	WORD $0x1e240863 // fmul	s3, s3, s4
	WORD $0xbc367963 // str	s3, [x11, x22, lsl #2]
	WORD $0x910006d6 // add	x22, x22, #1
	WORD $0xf10042df // cmp	x22, #16
	BNE  BB0_13
	WORD $0xad401163 // ldp	q3, q4, [x11]
	WORD $0xad411965 // ldp	q5, q6, [x11, #32]
	WORD $0x8b1709b6 // add	x22, x13, x23, lsl #2
	WORD $0xad4042c7 // ldp	q7, q16, [x22]
	WORD $0xad414ad1 // ldp	q17, q18, [x22, #32]
	WORD $0x4f821067 // fmla.4s	v7, v3, v2[0]
	WORD $0x4f821090 // fmla.4s	v16, v4, v2[0]
	WORD $0x4f8210b1 // fmla.4s	v17, v5, v2[0]
	WORD $0x4f8210d2 // fmla.4s	v18, v6, v2[0]
	WORD $0xad0042c7 // stp	q7, q16, [x22]
	WORD $0xad014ad1 // stp	q17, q18, [x22, #32]
	WORD $0xaa1903f6 // mov	x22, x25
	WORD $0x91004339 // add	x25, x25, #16
	WORD $0x910042f7 // add	x23, x23, #16
	WORD $0x91004318 // add	x24, x24, #16
	WORD $0xeb0a033f // cmp	x25, x10
	BLE  BB0_12

BB0_15:
	WORD $0xb27e02d7 // orr	x23, x22, #0x4
	WORD $0xeb0a02ff // cmp	x23, x10
	BLE  BB0_17
	WORD $0xaa1603f8 // mov	x24, x22
	B    BB0_19

BB0_17:
	WORD $0x8b1609b7 // add	x23, x13, x22, lsl #2

BB0_18:
	WORD $0x8b1600cc // add	x12, x6, x22
	WORD $0x8b4cfd80 // add	x0, x12, x12, lsr #63
	WORD $0x9341fc00 // asr	x0, x0, #1
	WORD $0x38606820 // ldrb	w0, [x1, x0]
	WORD $0x12000c05 // and	w5, w0, #0xf
	WORD $0x720000df // tst	w6, #0x1
	WORD $0x53047c00 // lsr	w0, w0, #4
	WORD $0x9acf0ed8 // sdiv	x24, x22, x15
	WORD $0x910006d9 // add	x25, x22, #1
	WORD $0x9100059e // add	x30, x12, #1
	WORD $0x8b5effde // add	x30, x30, x30, lsr #63
	WORD $0x9341ffde // asr	x30, x30, #1
	WORD $0x1a851000 // csel	w0, w0, w5, ne
	WORD $0x387e6825 // ldrb	w5, [x1, x30]
	WORD $0x9100099e // add	x30, x12, #2
	WORD $0x8b5effde // add	x30, x30, x30, lsr #63
	WORD $0xbc605a03 // ldr	s3, [x16, w0, uxtw #2]
	WORD $0x9341ffc0 // asr	x0, x30, #1
	WORD $0x38606820 // ldrb	w0, [x1, x0]
	WORD $0x12000c1e // and	w30, w0, #0xf
	WORD $0x53047c00 // lsr	w0, w0, #4
	WORD $0x1a9e1000 // csel	w0, w0, w30, ne
	WORD $0x12000cbe // and	w30, w5, #0xf
	WORD $0x53047ca5 // lsr	w5, w5, #4
	WORD $0x7200029f // tst	w20, #0x1
	WORD $0x1a9e10a5 // csel	w5, w5, w30, ne
	WORD $0xbc787aa4 // ldr	s4, [x21, x24, lsl #2]
	WORD $0x9acf0f38 // sdiv	x24, x25, x15
	WORD $0xbc655a05 // ldr	s5, [x16, w5, uxtw #2]
	WORD $0x91000ac5 // add	x5, x22, #2
	WORD $0xbc787aa6 // ldr	s6, [x21, x24, lsl #2]
	WORD $0x9acf0ca5 // sdiv	x5, x5, x15
	WORD $0xbc657aa7 // ldr	s7, [x21, x5, lsl #2]
	WORD $0xbc605a10 // ldr	s16, [x16, w0, uxtw #2]
	WORD $0x1e230883 // fmul	s3, s4, s3
	WORD $0x91000d8c // add	x12, x12, #3
	WORD $0x8b4cfd8c // add	x12, x12, x12, lsr #63
	WORD $0x9341fd8c // asr	x12, x12, #1
	WORD $0x386c682c // ldrb	w12, [x1, x12]
	WORD $0x1e2508c4 // fmul	s4, s6, s5
	WORD $0x91000ec0 // add	x0, x22, #3
	WORD $0x12000d85 // and	w5, w12, #0xf
	WORD $0x53047d8c // lsr	w12, w12, #4
	WORD $0x1a85118c // csel	w12, w12, w5, ne
	WORD $0x9acf0c00 // sdiv	x0, x0, x15
	WORD $0x1e3008e5 // fmul	s5, s7, s16
	WORD $0xbc607aa6 // ldr	s6, [x21, x0, lsl #2]
	WORD $0xbc6c5a07 // ldr	s7, [x16, w12, uxtw #2]
	WORD $0x2d001163 // stp	s3, s4, [x11]
	WORD $0x1e2708c3 // fmul	s3, s6, s7
	WORD $0x2d010d65 // stp	s5, s3, [x11, #8]
	WORD $0x3dc00163 // ldr	q3, [x11]
	WORD $0x3dc002e4 // ldr	q4, [x23]
	WORD $0x4f821064 // fmla.4s	v4, v3, v2[0]
	WORD $0x3c8106e4 // str	q4, [x23], #16
	WORD $0x910012d8 // add	x24, x22, #4
	WORD $0x910022cc // add	x12, x22, #8
	WORD $0xaa1803f6 // mov	x22, x24
	WORD $0xeb0a019f // cmp	x12, x10
	BLE  BB0_18

BB0_19:
	WORD $0xeb0a031f // cmp	x24, x10
	BGE  BB0_8

BB0_20:
	WORD $0x8b1800cc // add	x12, x6, x24
	WORD $0x8b4cfd80 // add	x0, x12, x12, lsr #63
	WORD $0x9341fc00 // asr	x0, x0, #1
	WORD $0x38606820 // ldrb	w0, [x1, x0]
	WORD $0x12000c05 // and	w5, w0, #0xf
	WORD $0x53047c00 // lsr	w0, w0, #4
	WORD $0xf240019f // tst	x12, #0x1
	WORD $0x1a8000ac // csel	w12, w5, w0, eq
	WORD $0x9acf0f00 // sdiv	x0, x24, x15
	WORD $0xbc607aa3 // ldr	s3, [x21, x0, lsl #2]
	WORD $0xbc6c5a04 // ldr	s4, [x16, w12, uxtw #2]
	WORD $0xbc7879a5 // ldr	s5, [x13, x24, lsl #2]
	WORD $0x1e240844 // fmul	s4, s2, s4
	WORD $0x1f031483 // fmadd	s3, s4, s3, s5
	WORD $0xbc3879a3 // str	s3, [x13, x24, lsl #2]
	WORD $0x91000718 // add	x24, x24, #1
	WORD $0xeb18015f // cmp	x10, x24
	BNE  BB0_20
	B    BB0_8

BB0_21:
	WORD $0xf100115f // cmp	x10, #4
	BGE  BB0_24
	WORD $0xf100015f // cmp	x10, #0
	BLE  BB0_3
	WORD $0xd2800006 // mov	x6, #0                          ; =0x0
	WORD $0xd2800007 // mov	x7, #0                          ; =0x0
	CBNZ R3, BB0_28
	B    BB0_32

BB0_24:
	WORD $0xd2800006 // mov	x6, #0                          ; =0x0
	CBZ  R3, BB0_29
	WORD $0xaa0403e7 // mov	x7, x4
	WORD $0xaa0303f3 // mov	x19, x3
	WORD $0xaa0d03f4 // mov	x20, x13

BB0_26:
	WORD $0x3cc10682 // ldr	q2, [x20], #16
	WORD $0x3cc10663 // ldr	q3, [x19], #16
	WORD $0x4e23d442 // fadd.4s	v2, v2, v3
	WORD $0x4e21f442 // fmax.4s	v2, v2, v1
	WORD $0x3c8104e2 // str	q2, [x7], #16
	WORD $0x910020cc // add	x12, x6, #8
	WORD $0x910010c6 // add	x6, x6, #4
	WORD $0xeb0a019f // cmp	x12, x10
	BLE  BB0_26
	WORD $0xeb0a00df // cmp	x6, x10
	BHS  BB0_3

BB0_28:
	WORD $0xbc6679a2 // ldr	s2, [x13, x6, lsl #2]
	WORD $0xbc667863 // ldr	s3, [x3, x6, lsl #2]
	WORD $0x1e232842 // fadd	s2, s2, s3
	WORD $0x1e202048 // fcmp	s2, #0.0
	WORD $0x1e224c02 // fcsel	s2, s0, s2, mi
	WORD $0xbc267882 // str	s2, [x4, x6, lsl #2]
	WORD $0x910004c6 // add	x6, x6, #1
	WORD $0xeb06015f // cmp	x10, x6
	BNE  BB0_28
	B    BB0_3

BB0_29:
	WORD $0xd2800007 // mov	x7, #0                          ; =0x0

BB0_30:
	WORD $0x3ce669a2 // ldr	q2, [x13, x6]
	WORD $0x4e21f442 // fmax.4s	v2, v2, v1
	WORD $0x3ca66882 // str	q2, [x4, x6]
	WORD $0x910020f3 // add	x19, x7, #8
	WORD $0x910010e7 // add	x7, x7, #4
	WORD $0x910040c6 // add	x6, x6, #16
	WORD $0xeb0a027f // cmp	x19, x10
	BLE  BB0_30
	WORD $0xeb0a00ff // cmp	x7, x10
	BHS  BB0_3

BB0_32:
	WORD $0xbc6779a2 // ldr	s2, [x13, x7, lsl #2]
	WORD $0x1e202048 // fcmp	s2, #0.0
	WORD $0x1e224c02 // fcsel	s2, s0, s2, mi
	WORD $0xbc277882 // str	s2, [x4, x7, lsl #2]
	WORD $0x910004e7 // add	x7, x7, #1
	WORD $0xeb07015f // cmp	x10, x7
	BNE  BB0_32
	B    BB0_3

BB0_33:
	WORD $0xf85b03a8 // ldur	x8, [x29, #-80]                 ; 8-byte Folded Reload

BB0_34:
	WORD $0xd10143bf // sub	sp, x29, #64 [offset adjusted]
	WORD $0xa9457bfd // ldp	x29, x30, [sp, #64]             ; 16-byte Folded Reload [offset adjusted]
	WORD $0xa9444ff4 // ldp	x20, x19, [sp, #48]             ; 16-byte Folded Reload [offset adjusted]
	WORD $0xa94357f6 // ldp	x22, x21, [sp, #32]             ; 16-byte Folded Reload [offset adjusted]
	WORD $0xa9425ff8 // ldp	x24, x23, [sp, #16]             ; 16-byte Folded Reload [offset adjusted]
	WORD $0xf84103f9 // ldr	x25, [sp], #80                  ; 8-byte Folded Reload [transformed]
	RET
