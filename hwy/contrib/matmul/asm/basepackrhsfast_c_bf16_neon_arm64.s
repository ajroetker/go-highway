//go:build !noasm && arm64
// Code generated by GoAT. DO NOT EDIT.
// versions:
// 	clang   21.1.8
// 	objdump 2.46.0.20260210
// flags: -march=armv8.6-a+bf16+simd -fno-builtin-memset -O3
// source: /Users/ajroetker/go/src/github.com/ajroetker/go-highway/hwy/contrib/matmul/asm/basepackrhsfast_c_bf16_neon_arm64.c

TEXT Â·packrhsfast_c_bf16_neon(SB), $48-80
	MOVD b+0(FP), R0
	MOVD packed+8(FP), R1
	MOVD pn+16(FP), R2
	MOVD prowStart+24(FP), R3
	MOVD pcolStart+32(FP), R4
	MOVD ppanelK+40(FP), R5
	MOVD ppanelCols+48(FP), R6
	MOVD pnr+56(FP), R7
	MOVD plen_b+64(FP), R8
	MOVD R8, 32(RSP)
	MOVD plen_packed+72(FP), R8
	MOVD R8, 40(RSP)
	WORD $0xf94000c8            // ldr	x8, [x6]
	WORD $0xf100051f            // cmp	x8, #1
	BLT  BB0_22
	WORD $0xf94000e9            // ldr	x9, [x7]
	WORD $0xf94000aa            // ldr	x10, [x5]
	WORD $0xf240093f            // tst	x9, #0x7
	WORD $0xfa470924            // ccmp	x9, #7, #4, eq
	WORD $0x1a9fd7f0            // cset	w16, gt
	WORD $0xf100055f            // cmp	x10, #1
	BLT  BB0_22
	WORD $0xa90057f6            // stp	x22, x21, [sp, #-32]!           ; 16-byte Folded Spill [transformed]
	WORD $0xa9014ff4            // stp	x20, x19, [sp, #16]             ; 16-byte Folded Spill
	WORD $0xd280000b            // mov	x11, #0                         ; =0x0
	WORD $0xd280000c            // mov	x12, #0                         ; =0x0
	WORD $0xf940008d            // ldr	x13, [x4]
	WORD $0xf940004f            // ldr	x15, [x2]
	WORD $0xf940006e            // ldr	x14, [x3]
	WORD $0x9b0f7dce            // mul	x14, x14, x15
	WORD $0xd37ff9ce            // lsl	x14, x14, #1
	WORD $0x8b0d05cd            // add	x13, x14, x13, lsl #1
	WORD $0x8b0d000d            // add	x13, x0, x13
	WORD $0xd37ff92e            // lsl	x14, x9, #1
	WORD $0xd37ff9ef            // lsl	x15, x15, #1
	WORD $0x52000210            // eor	w16, w16, #0x1
	WORD $0x528ffff1            // mov	w17, #32767                     ; =0x7fff
	WORD $0xaa0803e0            // mov	x0, x8
	B    BB0_4

BB0_3:
	WORD $0xcb090000 // sub	x0, x0, x9
	WORD $0x8b0e01ad // add	x13, x13, x14
	WORD $0x8b09018c // add	x12, x12, x9
	WORD $0xeb08019f // cmp	x12, x8
	BGE  BB0_21

BB0_4:
	WORD $0xeb00013f   // cmp	x9, x0
	WORD $0x9a80b124   // csel	x4, x9, x0, lt
	WORD $0xcb0c0103   // sub	x3, x8, x12
	WORD $0xeb03013f   // cmp	x9, x3
	WORD $0x9a83b122   // csel	x2, x9, x3, lt
	WORD $0x1a9fd605   // csinc	w5, w16, wzr, le
	TBNZ $0, R5, BB0_9
	WORD $0xd2800002   // mov	x2, #0                          ; =0x0
	WORD $0x8b0b0423   // add	x3, x1, x11, lsl #1
	WORD $0xaa0d03e4   // mov	x4, x13

BB0_6:
	WORD $0xd2800005 // mov	x5, #0                          ; =0x0
	WORD $0xaa0403e6 // mov	x6, x4
	WORD $0xaa0303e7 // mov	x7, x3

BB0_7:
	WORD $0x3cc104c0 // ldr	q0, [x6], #16
	WORD $0x3c8104e0 // str	q0, [x7], #16
	WORD $0x910020a5 // add	x5, x5, #8
	WORD $0xeb0900bf // cmp	x5, x9
	BLT  BB0_7
	WORD $0x8b09016b // add	x11, x11, x9
	WORD $0x91000442 // add	x2, x2, #1
	WORD $0x8b0e0063 // add	x3, x3, x14
	WORD $0x8b0f0084 // add	x4, x4, x15
	WORD $0xeb0a005f // cmp	x2, x10
	BNE  BB0_6
	B    BB0_3

BB0_9:
	WORD $0xf100045f // cmp	x2, #1
	BLT  BB0_16
	WORD $0xd2800005 // mov	x5, #0                          ; =0x0
	WORD $0xaa0d03e6 // mov	x6, x13
	B    BB0_12

BB0_11:
	WORD $0x910004a5 // add	x5, x5, #1
	WORD $0x8b0f00c6 // add	x6, x6, x15
	WORD $0xeb0a00bf // cmp	x5, x10
	BEQ  BB0_3

BB0_12:
	WORD $0xaa0603e7 // mov	x7, x6
	WORD $0xaa0403f3 // mov	x19, x4

BB0_13:
	WORD $0x784024f4 // ldrh	w20, [x7], #2
	WORD $0x1e230280 // ucvtf	s0, w20
	WORD $0x1e260014 // fmov	w20, s0
	WORD $0x53104295 // ubfx	w21, w20, #16, #1
	WORD $0x0b150294 // add	w20, w20, w21
	WORD $0x0b110294 // add	w20, w20, w17
	WORD $0x53107e94 // lsr	w20, w20, #16
	WORD $0x782b7834 // strh	w20, [x1, x11, lsl #1]
	WORD $0x9100056b // add	x11, x11, #1
	WORD $0xf1000673 // subs	x19, x19, #1
	BNE  BB0_13
	WORD $0xaa0203e7 // mov	x7, x2
	WORD $0xeb09007f // cmp	x3, x9
	BGE  BB0_11

BB0_15:
	WORD $0x782b783f // strh	wzr, [x1, x11, lsl #1]
	WORD $0x9100056b // add	x11, x11, #1
	WORD $0x910004e7 // add	x7, x7, #1
	WORD $0xeb0900ff // cmp	x7, x9
	BLT  BB0_15
	B    BB0_11

BB0_16:
	WORD $0xeb09007f // cmp	x3, x9
	BGE  BB0_3
	WORD $0xd2800003 // mov	x3, #0                          ; =0x0

BB0_18:
	WORD $0xaa0203e4 // mov	x4, x2

BB0_19:
	WORD $0x782b783f // strh	wzr, [x1, x11, lsl #1]
	WORD $0x9100056b // add	x11, x11, #1
	WORD $0x91000484 // add	x4, x4, #1
	WORD $0xeb09009f // cmp	x4, x9
	BLT  BB0_19
	WORD $0x91000463 // add	x3, x3, #1
	WORD $0xeb0a007f // cmp	x3, x10
	BNE  BB0_18
	B    BB0_3

BB0_21:
	WORD $0xa9414ff4 // ldp	x20, x19, [sp, #16]             ; 16-byte Folded Reload
	WORD $0xa94057f6 // ldp	x22, x21, [sp], #32             ; 16-byte Folded Reload [transformed]

BB0_22:
	RET
