//go:build !noasm && arm64
// Code generated by GoAT. DO NOT EDIT.
// versions:
// 	clang   21.1.8
// 	objdump 2.45.1
// flags: -march=armv8-a+simd+fp -fno-builtin-memset -O3
// source: /Users/ajroetker/go/src/github.com/ajroetker/go-highway/hwy/contrib/matmul/asm/basefusedint4matmulrelu_c_f32_neon_arm64.c

TEXT Â·fusedint4matmulrelu_c_f32_neon(SB), $131232-112
	MOVD input+0(FP), R0
	MOVD packed+8(FP), R1
	MOVD scales+16(FP), R2
	MOVD bias+24(FP), R3
	MOVD output+32(FP), R4
	MOVD pM+40(FP), R5
	MOVD pK+48(FP), R6
	MOVD pN+56(FP), R7
	MOVD pgroupSize+64(FP), R8
	MOVD R8, 112(RSP)
	MOVD plen_input+72(FP), R8
	MOVD R8, 120(RSP)
	MOVD plen_packed+80(FP), R8
	MOVD R8, 128(RSP)
	MOVD plen_scales+88(FP), R8
	MOVD R8, 136(RSP)
	MOVD plen_bias+96(FP), R8
	MOVD R8, 144(RSP)
	MOVD plen_output+104(FP), R8
	MOVD R8, 152(RSP)
	WORD $0xf80203f9             // str	x25, [sp, #-80]!                ; 8-byte Folded Spill [transformed]
	WORD $0xa9035ff8             // stp	x24, x23, [sp, #16]             ; 16-byte Folded Spill [offset adjusted]
	WORD $0xa90457f6             // stp	x22, x21, [sp, #32]             ; 16-byte Folded Spill [offset adjusted]
	WORD $0xa9054ff4             // stp	x20, x19, [sp, #48]             ; 16-byte Folded Spill [offset adjusted]
	WORD $0xa9067bfd             // stp	x29, x30, [sp, #64]             ; 16-byte Folded Spill [offset adjusted]
	WORD $0x910183fd             // add	x29, sp, #64 [offset adjusted]
	WORD $0xf81b03a0             // stur	x0, [x29, #-80]                 ; 8-byte Folded Spill
	WORD $0xf94000c8             // ldr	x8, [x6]
	WORD $0xf94000a9             // ldr	x9, [x5]
	WORD $0xf94000ea             // ldr	x10, [x7]
	WORD $0xf100013f             // cmp	x9, #0
	WORD $0xfa401904             // ccmp	x8, #0, #4, ne
	WORD $0xfa401944             // ccmp	x10, #0, #4, ne
	BEQ  BB0_28
	WORD $0x914083eb             // mov	x11, sp [transformed]
	WORD $0xf81a83ab             // stur	x11, [x29, #-88]                ; 8-byte Folded Spill
	WORD $0xd10043eb             // sub	x11, sp, #16
	WORD $0x914083ed             // mov	x13, sp [transformed]
	WORD $0xd37ef54c             // lsl	x12, x10, #2
	WORD $0xf81c83ac             // stur	x12, [x29, #-56]                ; 8-byte Folded Spill
	WORD $0x91003d8e             // add	x14, x12, #15
	WORD $0x927cedce             // and	x14, x14, #0xfffffffffffffff0
	WORD $0xcb0e01ad             // sub	x13, x13, x14
	WORD $0xf100053f             // cmp	x9, #1
	BLT  BB0_27
	WORD $0xd280000e             // mov	x14, #0                         ; =0x0
	WORD $0xf9400baf             // ldr	x15, [x29, #16]
	WORD $0xf94001ef             // ldr	x15, [x15]
	WORD $0x8b0f0150             // add	x16, x10, x15
	WORD $0xd1000610             // sub	x16, x16, #1
	WORD $0x2f00e400             // movi	d0, #0000000000000000
	WORD $0x6f00e401             // movi.2d	v1, #0000000000000000
	WORD $0x9acf0e10             // sdiv	x16, x16, x15
	WORD $0xf81b83a9             // stur	x9, [x29, #-72]                 ; 8-byte Folded Spill
	B    BB0_4

BB0_3:
	WORD $0x910005ce // add	x14, x14, #1
	WORD $0xf85c83ac // ldur	x12, [x29, #-56]                ; 8-byte Folded Reload
	WORD $0x8b0c0084 // add	x4, x4, x12
	WORD $0xeb0901df // cmp	x14, x9
	BEQ  BB0_27

BB0_4:
	WORD $0xaa0d03f1 // mov	x17, x13
	WORD $0xaa0a03e6 // mov	x6, x10
	WORD $0xf100055f // cmp	x10, #1
	BLT  BB0_6

BB0_5:
	WORD $0xb800463f // str	wzr, [x17], #4
	WORD $0xf10004c6 // subs	x6, x6, #1
	BNE  BB0_5

BB0_6:
	WORD $0xf100051f // cmp	x8, #1
	BLT  BB0_15
	WORD $0xd2800011 // mov	x17, #0                         ; =0x0
	WORD $0xd2800006 // mov	x6, #0                          ; =0x0
	WORD $0x9b087dc7 // mul	x7, x14, x8
	WORD $0xf85b03a9 // ldur	x9, [x29, #-80]                 ; 8-byte Folded Reload
	WORD $0x8b070927 // add	x7, x9, x7, lsl #2
	WORD $0x52800033 // mov	w19, #1                         ; =0x1
	B    BB0_9

BB0_8:
	WORD $0x910004c6 // add	x6, x6, #1
	WORD $0x8b0a0273 // add	x19, x19, x10
	WORD $0x8b0a0231 // add	x17, x17, x10
	WORD $0xeb0800df // cmp	x6, x8
	BEQ  BB0_15

BB0_9:
	WORD $0xbc6678e2 // ldr	s2, [x7, x6, lsl #2]
	WORD $0x9b107cd4 // mul	x20, x6, x16
	WORD $0x8b140854 // add	x20, x2, x20, lsl #2
	WORD $0xf100115f // cmp	x10, #4
	BGE  BB0_11
	WORD $0xd2800019 // mov	x25, #0                         ; =0x0
	B    BB0_13

BB0_11:
	WORD $0xd2800016 // mov	x22, #0                         ; =0x0
	WORD $0x8b510435 // add	x21, x1, x17, lsr #1
	WORD $0xaa0d03f7 // mov	x23, x13
	WORD $0x8b530438 // add	x24, x1, x19, lsr #1

BB0_12:
	WORD $0x384026b9 // ldrb	w25, [x21], #2
	WORD $0x3840271e // ldrb	w30, [x24], #2
	WORD $0x12000f25 // and	w5, w25, #0xf
	WORD $0x53047f39 // lsr	w25, w25, #4
	WORD $0x12000fcc // and	w12, w30, #0xf
	WORD $0x53047fde // lsr	w30, w30, #4
	WORD $0x7200027f // tst	w19, #0x1
	WORD $0x8b160220 // add	x0, x17, x22
	WORD $0x1a8c13cc // csel	w12, w30, w12, ne
	WORD $0x91000c1e // add	x30, x0, #3
	WORD $0xd341ffde // lsr	x30, x30, #1
	WORD $0x387e683e // ldrb	w30, [x1, x30]
	WORD $0x12000fc9 // and	w9, w30, #0xf
	WORD $0x53047fde // lsr	w30, w30, #4
	WORD $0x1a8913c9 // csel	w9, w30, w9, ne
	WORD $0x7200023f // tst	w17, #0x1
	WORD $0x9acf0ede // sdiv	x30, x22, x15
	WORD $0x91000800 // add	x0, x0, #2
	WORD $0xd341fc00 // lsr	x0, x0, #1
	WORD $0x1a851325 // csel	w5, w25, w5, ne
	WORD $0x38606820 // ldrb	w0, [x1, x0]
	WORD $0x12000c19 // and	w25, w0, #0xf
	WORD $0x53047c00 // lsr	w0, w0, #4
	WORD $0x1a991000 // csel	w0, w0, w25, ne
	WORD $0xd10020a5 // sub	x5, x5, #8
	WORD $0x9e2200a3 // scvtf	s3, x5
	WORD $0x910006c5 // add	x5, x22, #1
	WORD $0x9acf0ca5 // sdiv	x5, x5, x15
	WORD $0xbc7e7a84 // ldr	s4, [x20, x30, lsl #2]
	WORD $0xd100218c // sub	x12, x12, #8
	WORD $0x9e220185 // scvtf	s5, x12
	WORD $0x91000acc // add	x12, x22, #2
	WORD $0xbc657a86 // ldr	s6, [x20, x5, lsl #2]
	WORD $0x9acf0d8c // sdiv	x12, x12, x15
	WORD $0xd1002000 // sub	x0, x0, #8
	WORD $0x9e220007 // scvtf	s7, x0
	WORD $0xbc6c7a90 // ldr	s16, [x20, x12, lsl #2]
	WORD $0x1e2508c5 // fmul	s5, s6, s5
	WORD $0x91000ecc // add	x12, x22, #3
	WORD $0x9acf0d8c // sdiv	x12, x12, x15
	WORD $0xbc6c7a86 // ldr	s6, [x20, x12, lsl #2]
	WORD $0x1e230883 // fmul	s3, s4, s3
	WORD $0x1e270a04 // fmul	s4, s16, s7
	WORD $0xd1002129 // sub	x9, x9, #8
	WORD $0x9e220127 // scvtf	s7, x9
	WORD $0x2d001563 // stp	s3, s5, [x11]
	WORD $0x1e2708c3 // fmul	s3, s6, s7
	WORD $0x2d010d64 // stp	s4, s3, [x11, #8]
	WORD $0x3dc00163 // ldr	q3, [x11]
	WORD $0x3dc002e4 // ldr	q4, [x23]
	WORD $0x4f821064 // fmla.4s	v4, v3, v2[0]
	WORD $0x3c8106e4 // str	q4, [x23], #16
	WORD $0x910012d9 // add	x25, x22, #4
	WORD $0x910022c9 // add	x9, x22, #8
	WORD $0xaa1903f6 // mov	x22, x25
	WORD $0xeb0a013f // cmp	x9, x10
	BLE  BB0_12

BB0_13:
	WORD $0xeb0a033f // cmp	x25, x10
	BGE  BB0_8

BB0_14:
	WORD $0x8b190229 // add	x9, x17, x25
	WORD $0x8b49fd2c // add	x12, x9, x9, lsr #63
	WORD $0x9341fd8c // asr	x12, x12, #1
	WORD $0x386c682c // ldrb	w12, [x1, x12]
	WORD $0x12000d80 // and	w0, w12, #0xf
	WORD $0x53047d8c // lsr	w12, w12, #4
	WORD $0xf240013f // tst	x9, #0x1
	WORD $0x9acf0f29 // sdiv	x9, x25, x15
	WORD $0xbc697a83 // ldr	s3, [x20, x9, lsl #2]
	WORD $0x1a8c0009 // csel	w9, w0, w12, eq
	WORD $0xd1002129 // sub	x9, x9, #8
	WORD $0x9e220124 // scvtf	s4, x9
	WORD $0xbc7979a5 // ldr	s5, [x13, x25, lsl #2]
	WORD $0x1e240844 // fmul	s4, s2, s4
	WORD $0x1f031483 // fmadd	s3, s4, s3, s5
	WORD $0xbc3979a3 // str	s3, [x13, x25, lsl #2]
	WORD $0x91000739 // add	x25, x25, #1
	WORD $0xeb19015f // cmp	x10, x25
	BNE  BB0_14
	B    BB0_8

BB0_15:
	WORD $0xf100115f // cmp	x10, #4
	BGE  BB0_18
	WORD $0xf100015f // cmp	x10, #0
	WORD $0xf85b83a9 // ldur	x9, [x29, #-72]                 ; 8-byte Folded Reload
	BLE  BB0_3
	WORD $0xd2800011 // mov	x17, #0                         ; =0x0
	WORD $0xd2800006 // mov	x6, #0                          ; =0x0
	WORD $0xb5000263 // cbnz	x3, LBB0_22
	B    BB0_26

BB0_18:
	WORD $0xd2800011 // mov	x17, #0                         ; =0x0
	WORD $0xb4000343 // cbz	x3, LBB0_23
	WORD $0xaa0403e6 // mov	x6, x4
	WORD $0xaa0303e7 // mov	x7, x3
	WORD $0xaa0d03f3 // mov	x19, x13

BB0_20:
	WORD $0x3cc10662 // ldr	q2, [x19], #16
	WORD $0x3cc104e3 // ldr	q3, [x7], #16
	WORD $0x4e23d442 // fadd.4s	v2, v2, v3
	WORD $0x4e21f442 // fmax.4s	v2, v2, v1
	WORD $0x3c8104c2 // str	q2, [x6], #16
	WORD $0x91002229 // add	x9, x17, #8
	WORD $0x91001231 // add	x17, x17, #4
	WORD $0xeb0a013f // cmp	x9, x10
	BLE  BB0_20
	WORD $0xeb0a023f // cmp	x17, x10
	WORD $0xf85b83a9 // ldur	x9, [x29, #-72]                 ; 8-byte Folded Reload
	BHS  BB0_3

BB0_22:
	WORD $0xbc7179a2 // ldr	s2, [x13, x17, lsl #2]
	WORD $0xbc717863 // ldr	s3, [x3, x17, lsl #2]
	WORD $0x1e232842 // fadd	s2, s2, s3
	WORD $0x1e202048 // fcmp	s2, #0.0
	WORD $0x1e224c02 // fcsel	s2, s0, s2, mi
	WORD $0xbc317882 // str	s2, [x4, x17, lsl #2]
	WORD $0x91000631 // add	x17, x17, #1
	WORD $0xeb11015f // cmp	x10, x17
	BNE  BB0_22
	B    BB0_3

BB0_23:
	WORD $0xd2800006 // mov	x6, #0                          ; =0x0

BB0_24:
	WORD $0x3cf169a2 // ldr	q2, [x13, x17]
	WORD $0x4e21f442 // fmax.4s	v2, v2, v1
	WORD $0x3cb16882 // str	q2, [x4, x17]
	WORD $0x910020c7 // add	x7, x6, #8
	WORD $0x910010c6 // add	x6, x6, #4
	WORD $0x91004231 // add	x17, x17, #16
	WORD $0xeb0a00ff // cmp	x7, x10
	BLE  BB0_24
	WORD $0xeb0a00df // cmp	x6, x10
	WORD $0xf85b83a9 // ldur	x9, [x29, #-72]                 ; 8-byte Folded Reload
	BHS  BB0_3

BB0_26:
	WORD $0xbc6679a2 // ldr	s2, [x13, x6, lsl #2]
	WORD $0x1e202048 // fcmp	s2, #0.0
	WORD $0x1e224c02 // fcsel	s2, s0, s2, mi
	WORD $0xbc267882 // str	s2, [x4, x6, lsl #2]
	WORD $0x910004c6 // add	x6, x6, #1
	WORD $0xeb06015f // cmp	x10, x6
	BNE  BB0_26
	B    BB0_3

BB0_27:
	WORD $0xf85a83a8 // ldur	x8, [x29, #-88]                 ; 8-byte Folded Reload

BB0_28:
	WORD $0xd10183bf // sub	sp, x29, #64 [offset adjusted]
	WORD $0xa9467bfd // ldp	x29, x30, [sp, #64]             ; 16-byte Folded Reload [offset adjusted]
	WORD $0xa9454ff4 // ldp	x20, x19, [sp, #48]             ; 16-byte Folded Reload [offset adjusted]
	WORD $0xa94457f6 // ldp	x22, x21, [sp, #32]             ; 16-byte Folded Reload [offset adjusted]
	WORD $0xa9435ff8 // ldp	x24, x23, [sp, #16]             ; 16-byte Folded Reload [offset adjusted]
	WORD $0xf84203f9 // ldr	x25, [sp], #80                  ; 8-byte Folded Reload [transformed]
	RET
