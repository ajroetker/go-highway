//go:build !noasm && arm64
// Code generated by hwygen -c. DO NOT EDIT.

package matmul

import (
	"unsafe"

	"github.com/ajroetker/go-highway/hwy"
	"github.com/ajroetker/go-highway/hwy/contrib/matmul/asm"
)

func init() {
	initPacking_opsNeonCAsm()
}

func initPacking_opsNeonCAsm() {
	if hwy.NoSimdEnv() || hwy.HasSME() {
		return
	}
	PackRHSFastFloat32 = packRHSFastAsmF32
	PackRHSFastFloat64 = packRHSFastAsmF64
	ApplyPackedOutputSimpleFloat32 = applyPackedOutputSimpleAsmF32
	ApplyPackedOutputSimpleFloat64 = applyPackedOutputSimpleAsmF64
	ApplyPackedOutputAccumFloat32 = applyPackedOutputAccumAsmF32
	ApplyPackedOutputAccumFloat64 = applyPackedOutputAccumAsmF64
	if hwy.HasARMFP16() {
		PackRHSFastFloat16 = packRHSFastAsmF16
		ApplyPackedOutputSimpleFloat16 = applyPackedOutputSimpleAsmF16
		ApplyPackedOutputAccumFloat16 = applyPackedOutputAccumAsmF16
	}
	if hwy.HasARMBF16() {
		PackRHSFastBFloat16 = packRHSFastAsmBF16
		ApplyPackedOutputSimpleBFloat16 = applyPackedOutputSimpleAsmBF16
		ApplyPackedOutputAccumBFloat16 = applyPackedOutputAccumAsmBF16
	}
}

func packRHSFastAsmF16(b, packed []hwy.Float16, n, rowStart, colStart, panelK, panelCols, nr int) {
	var p_b unsafe.Pointer
	if len(b) > 0 {
		p_b = unsafe.Pointer(&b[0])
	}
	var p_packed unsafe.Pointer
	if len(packed) > 0 {
		p_packed = unsafe.Pointer(&packed[0])
	}
	nVal := int64(n)
	rowStartVal := int64(rowStart)
	colStartVal := int64(colStart)
	panelKVal := int64(panelK)
	panelColsVal := int64(panelCols)
	nrVal := int64(nr)
	len_bVal := int64(len(b))
	len_packedVal := int64(len(packed))
	asm.PackRHSFast_F16(
		p_b,
		p_packed,
		unsafe.Pointer(&nVal),
		unsafe.Pointer(&rowStartVal),
		unsafe.Pointer(&colStartVal),
		unsafe.Pointer(&panelKVal),
		unsafe.Pointer(&panelColsVal),
		unsafe.Pointer(&nrVal),
		unsafe.Pointer(&len_bVal),
		unsafe.Pointer(&len_packedVal),
	)
}

func packRHSFastAsmBF16(b, packed []hwy.BFloat16, n, rowStart, colStart, panelK, panelCols, nr int) {
	var p_b unsafe.Pointer
	if len(b) > 0 {
		p_b = unsafe.Pointer(&b[0])
	}
	var p_packed unsafe.Pointer
	if len(packed) > 0 {
		p_packed = unsafe.Pointer(&packed[0])
	}
	nVal := int64(n)
	rowStartVal := int64(rowStart)
	colStartVal := int64(colStart)
	panelKVal := int64(panelK)
	panelColsVal := int64(panelCols)
	nrVal := int64(nr)
	len_bVal := int64(len(b))
	len_packedVal := int64(len(packed))
	asm.PackRHSFast_BF16(
		p_b,
		p_packed,
		unsafe.Pointer(&nVal),
		unsafe.Pointer(&rowStartVal),
		unsafe.Pointer(&colStartVal),
		unsafe.Pointer(&panelKVal),
		unsafe.Pointer(&panelColsVal),
		unsafe.Pointer(&nrVal),
		unsafe.Pointer(&len_bVal),
		unsafe.Pointer(&len_packedVal),
	)
}

func packRHSFastAsmF32(b, packed []float32, n, rowStart, colStart, panelK, panelCols, nr int) {
	var p_b unsafe.Pointer
	if len(b) > 0 {
		p_b = unsafe.Pointer(&b[0])
	}
	var p_packed unsafe.Pointer
	if len(packed) > 0 {
		p_packed = unsafe.Pointer(&packed[0])
	}
	nVal := int64(n)
	rowStartVal := int64(rowStart)
	colStartVal := int64(colStart)
	panelKVal := int64(panelK)
	panelColsVal := int64(panelCols)
	nrVal := int64(nr)
	len_bVal := int64(len(b))
	len_packedVal := int64(len(packed))
	asm.PackRHSFast_F32(
		p_b,
		p_packed,
		unsafe.Pointer(&nVal),
		unsafe.Pointer(&rowStartVal),
		unsafe.Pointer(&colStartVal),
		unsafe.Pointer(&panelKVal),
		unsafe.Pointer(&panelColsVal),
		unsafe.Pointer(&nrVal),
		unsafe.Pointer(&len_bVal),
		unsafe.Pointer(&len_packedVal),
	)
}

func packRHSFastAsmF64(b, packed []float64, n, rowStart, colStart, panelK, panelCols, nr int) {
	var p_b unsafe.Pointer
	if len(b) > 0 {
		p_b = unsafe.Pointer(&b[0])
	}
	var p_packed unsafe.Pointer
	if len(packed) > 0 {
		p_packed = unsafe.Pointer(&packed[0])
	}
	nVal := int64(n)
	rowStartVal := int64(rowStart)
	colStartVal := int64(colStart)
	panelKVal := int64(panelK)
	panelColsVal := int64(panelCols)
	nrVal := int64(nr)
	len_bVal := int64(len(b))
	len_packedVal := int64(len(packed))
	asm.PackRHSFast_F64(
		p_b,
		p_packed,
		unsafe.Pointer(&nVal),
		unsafe.Pointer(&rowStartVal),
		unsafe.Pointer(&colStartVal),
		unsafe.Pointer(&panelKVal),
		unsafe.Pointer(&panelColsVal),
		unsafe.Pointer(&nrVal),
		unsafe.Pointer(&len_bVal),
		unsafe.Pointer(&len_packedVal),
	)
}

func applyPackedOutputSimpleAsmF16(packedOutput, output []hwy.Float16, packedStride, outputRowOffset, outputColOffset, outputStride, height, width int) {
	var p_packedOutput unsafe.Pointer
	if len(packedOutput) > 0 {
		p_packedOutput = unsafe.Pointer(&packedOutput[0])
	}
	var p_output unsafe.Pointer
	if len(output) > 0 {
		p_output = unsafe.Pointer(&output[0])
	}
	packedStrideVal := int64(packedStride)
	outputRowOffsetVal := int64(outputRowOffset)
	outputColOffsetVal := int64(outputColOffset)
	outputStrideVal := int64(outputStride)
	heightVal := int64(height)
	widthVal := int64(width)
	len_packedOutputVal := int64(len(packedOutput))
	len_outputVal := int64(len(output))
	asm.ApplyPackedOutputSimple_F16(
		p_packedOutput,
		p_output,
		unsafe.Pointer(&packedStrideVal),
		unsafe.Pointer(&outputRowOffsetVal),
		unsafe.Pointer(&outputColOffsetVal),
		unsafe.Pointer(&outputStrideVal),
		unsafe.Pointer(&heightVal),
		unsafe.Pointer(&widthVal),
		unsafe.Pointer(&len_packedOutputVal),
		unsafe.Pointer(&len_outputVal),
	)
}

func applyPackedOutputSimpleAsmBF16(packedOutput, output []hwy.BFloat16, packedStride, outputRowOffset, outputColOffset, outputStride, height, width int) {
	var p_packedOutput unsafe.Pointer
	if len(packedOutput) > 0 {
		p_packedOutput = unsafe.Pointer(&packedOutput[0])
	}
	var p_output unsafe.Pointer
	if len(output) > 0 {
		p_output = unsafe.Pointer(&output[0])
	}
	packedStrideVal := int64(packedStride)
	outputRowOffsetVal := int64(outputRowOffset)
	outputColOffsetVal := int64(outputColOffset)
	outputStrideVal := int64(outputStride)
	heightVal := int64(height)
	widthVal := int64(width)
	len_packedOutputVal := int64(len(packedOutput))
	len_outputVal := int64(len(output))
	asm.ApplyPackedOutputSimple_BF16(
		p_packedOutput,
		p_output,
		unsafe.Pointer(&packedStrideVal),
		unsafe.Pointer(&outputRowOffsetVal),
		unsafe.Pointer(&outputColOffsetVal),
		unsafe.Pointer(&outputStrideVal),
		unsafe.Pointer(&heightVal),
		unsafe.Pointer(&widthVal),
		unsafe.Pointer(&len_packedOutputVal),
		unsafe.Pointer(&len_outputVal),
	)
}

func applyPackedOutputSimpleAsmF32(packedOutput, output []float32, packedStride, outputRowOffset, outputColOffset, outputStride, height, width int) {
	var p_packedOutput unsafe.Pointer
	if len(packedOutput) > 0 {
		p_packedOutput = unsafe.Pointer(&packedOutput[0])
	}
	var p_output unsafe.Pointer
	if len(output) > 0 {
		p_output = unsafe.Pointer(&output[0])
	}
	packedStrideVal := int64(packedStride)
	outputRowOffsetVal := int64(outputRowOffset)
	outputColOffsetVal := int64(outputColOffset)
	outputStrideVal := int64(outputStride)
	heightVal := int64(height)
	widthVal := int64(width)
	len_packedOutputVal := int64(len(packedOutput))
	len_outputVal := int64(len(output))
	asm.ApplyPackedOutputSimple_F32(
		p_packedOutput,
		p_output,
		unsafe.Pointer(&packedStrideVal),
		unsafe.Pointer(&outputRowOffsetVal),
		unsafe.Pointer(&outputColOffsetVal),
		unsafe.Pointer(&outputStrideVal),
		unsafe.Pointer(&heightVal),
		unsafe.Pointer(&widthVal),
		unsafe.Pointer(&len_packedOutputVal),
		unsafe.Pointer(&len_outputVal),
	)
}

func applyPackedOutputSimpleAsmF64(packedOutput, output []float64, packedStride, outputRowOffset, outputColOffset, outputStride, height, width int) {
	var p_packedOutput unsafe.Pointer
	if len(packedOutput) > 0 {
		p_packedOutput = unsafe.Pointer(&packedOutput[0])
	}
	var p_output unsafe.Pointer
	if len(output) > 0 {
		p_output = unsafe.Pointer(&output[0])
	}
	packedStrideVal := int64(packedStride)
	outputRowOffsetVal := int64(outputRowOffset)
	outputColOffsetVal := int64(outputColOffset)
	outputStrideVal := int64(outputStride)
	heightVal := int64(height)
	widthVal := int64(width)
	len_packedOutputVal := int64(len(packedOutput))
	len_outputVal := int64(len(output))
	asm.ApplyPackedOutputSimple_F64(
		p_packedOutput,
		p_output,
		unsafe.Pointer(&packedStrideVal),
		unsafe.Pointer(&outputRowOffsetVal),
		unsafe.Pointer(&outputColOffsetVal),
		unsafe.Pointer(&outputStrideVal),
		unsafe.Pointer(&heightVal),
		unsafe.Pointer(&widthVal),
		unsafe.Pointer(&len_packedOutputVal),
		unsafe.Pointer(&len_outputVal),
	)
}

func applyPackedOutputAccumAsmF16(packedOutput, output []hwy.Float16, packedStride, outputRowOffset, outputColOffset, outputStride, height, width int) {
	var p_packedOutput unsafe.Pointer
	if len(packedOutput) > 0 {
		p_packedOutput = unsafe.Pointer(&packedOutput[0])
	}
	var p_output unsafe.Pointer
	if len(output) > 0 {
		p_output = unsafe.Pointer(&output[0])
	}
	packedStrideVal := int64(packedStride)
	outputRowOffsetVal := int64(outputRowOffset)
	outputColOffsetVal := int64(outputColOffset)
	outputStrideVal := int64(outputStride)
	heightVal := int64(height)
	widthVal := int64(width)
	len_packedOutputVal := int64(len(packedOutput))
	len_outputVal := int64(len(output))
	asm.ApplyPackedOutputAccum_F16(
		p_packedOutput,
		p_output,
		unsafe.Pointer(&packedStrideVal),
		unsafe.Pointer(&outputRowOffsetVal),
		unsafe.Pointer(&outputColOffsetVal),
		unsafe.Pointer(&outputStrideVal),
		unsafe.Pointer(&heightVal),
		unsafe.Pointer(&widthVal),
		unsafe.Pointer(&len_packedOutputVal),
		unsafe.Pointer(&len_outputVal),
	)
}

func applyPackedOutputAccumAsmBF16(packedOutput, output []hwy.BFloat16, packedStride, outputRowOffset, outputColOffset, outputStride, height, width int) {
	var p_packedOutput unsafe.Pointer
	if len(packedOutput) > 0 {
		p_packedOutput = unsafe.Pointer(&packedOutput[0])
	}
	var p_output unsafe.Pointer
	if len(output) > 0 {
		p_output = unsafe.Pointer(&output[0])
	}
	packedStrideVal := int64(packedStride)
	outputRowOffsetVal := int64(outputRowOffset)
	outputColOffsetVal := int64(outputColOffset)
	outputStrideVal := int64(outputStride)
	heightVal := int64(height)
	widthVal := int64(width)
	len_packedOutputVal := int64(len(packedOutput))
	len_outputVal := int64(len(output))
	asm.ApplyPackedOutputAccum_BF16(
		p_packedOutput,
		p_output,
		unsafe.Pointer(&packedStrideVal),
		unsafe.Pointer(&outputRowOffsetVal),
		unsafe.Pointer(&outputColOffsetVal),
		unsafe.Pointer(&outputStrideVal),
		unsafe.Pointer(&heightVal),
		unsafe.Pointer(&widthVal),
		unsafe.Pointer(&len_packedOutputVal),
		unsafe.Pointer(&len_outputVal),
	)
}

func applyPackedOutputAccumAsmF32(packedOutput, output []float32, packedStride, outputRowOffset, outputColOffset, outputStride, height, width int) {
	var p_packedOutput unsafe.Pointer
	if len(packedOutput) > 0 {
		p_packedOutput = unsafe.Pointer(&packedOutput[0])
	}
	var p_output unsafe.Pointer
	if len(output) > 0 {
		p_output = unsafe.Pointer(&output[0])
	}
	packedStrideVal := int64(packedStride)
	outputRowOffsetVal := int64(outputRowOffset)
	outputColOffsetVal := int64(outputColOffset)
	outputStrideVal := int64(outputStride)
	heightVal := int64(height)
	widthVal := int64(width)
	len_packedOutputVal := int64(len(packedOutput))
	len_outputVal := int64(len(output))
	asm.ApplyPackedOutputAccum_F32(
		p_packedOutput,
		p_output,
		unsafe.Pointer(&packedStrideVal),
		unsafe.Pointer(&outputRowOffsetVal),
		unsafe.Pointer(&outputColOffsetVal),
		unsafe.Pointer(&outputStrideVal),
		unsafe.Pointer(&heightVal),
		unsafe.Pointer(&widthVal),
		unsafe.Pointer(&len_packedOutputVal),
		unsafe.Pointer(&len_outputVal),
	)
}

func applyPackedOutputAccumAsmF64(packedOutput, output []float64, packedStride, outputRowOffset, outputColOffset, outputStride, height, width int) {
	var p_packedOutput unsafe.Pointer
	if len(packedOutput) > 0 {
		p_packedOutput = unsafe.Pointer(&packedOutput[0])
	}
	var p_output unsafe.Pointer
	if len(output) > 0 {
		p_output = unsafe.Pointer(&output[0])
	}
	packedStrideVal := int64(packedStride)
	outputRowOffsetVal := int64(outputRowOffset)
	outputColOffsetVal := int64(outputColOffset)
	outputStrideVal := int64(outputStride)
	heightVal := int64(height)
	widthVal := int64(width)
	len_packedOutputVal := int64(len(packedOutput))
	len_outputVal := int64(len(output))
	asm.ApplyPackedOutputAccum_F64(
		p_packedOutput,
		p_output,
		unsafe.Pointer(&packedStrideVal),
		unsafe.Pointer(&outputRowOffsetVal),
		unsafe.Pointer(&outputColOffsetVal),
		unsafe.Pointer(&outputStrideVal),
		unsafe.Pointer(&heightVal),
		unsafe.Pointer(&widthVal),
		unsafe.Pointer(&len_packedOutputVal),
		unsafe.Pointer(&len_outputVal),
	)
}

