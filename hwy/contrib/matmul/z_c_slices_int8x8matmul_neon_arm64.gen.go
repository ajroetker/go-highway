//go:build !noasm && arm64
// Code generated by hwygen -c. DO NOT EDIT.

package matmul

import (
	"unsafe"

	"github.com/ajroetker/go-highway/hwy"
	"github.com/ajroetker/go-highway/hwy/contrib/matmul/asm"
)

func init() {
	initInt8x8matmulNeonCAsm()
}

func initInt8x8matmulNeonCAsm() {
	if hwy.NoSimdEnv() || hwy.HasSME() {
		return
	}
	Int8x8MatMul = int8x8MatMulAsmS32
}

func int8x8MatMulAsmS32(output []int32, a, b []uint8, aZP, bZP uint8, M, K, N int) {
	var p_output unsafe.Pointer
	if len(output) > 0 {
		p_output = unsafe.Pointer(&output[0])
	}
	var p_a unsafe.Pointer
	if len(a) > 0 {
		p_a = unsafe.Pointer(&a[0])
	}
	var p_b unsafe.Pointer
	if len(b) > 0 {
		p_b = unsafe.Pointer(&b[0])
	}
	aZPVal := int64(aZP)
	bZPVal := int64(bZP)
	MVal := int64(M)
	KVal := int64(K)
	NVal := int64(N)
	asm.Int8x8MatMul_S32(
		p_output,
		p_a,
		p_b,
		unsafe.Pointer(&aZPVal),
		unsafe.Pointer(&bZPVal),
		unsafe.Pointer(&MVal),
		unsafe.Pointer(&KVal),
		unsafe.Pointer(&NVal),
	)
}

