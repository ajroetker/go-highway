// Code generated by github.com/ajroetker/go-highway/cmd/hwygen. DO NOT EDIT.

package matmul

func BaseInt8x8MatMul_fallback(output []int32, a []uint8, b []uint8, aZP uint8, bZP uint8, M int, K int, N int) {
	if M == 0 || K == 0 || N == 0 {
		return
	}
	dequantBuf := make([]int32, 1)
	accBuf := make([]int32, N)
	azp := int32(aZP)
	bzp := int32(bZP)
	for m := range M {
		for i := range N {
			accBuf[i] = 0
		}
		for k := range K {
			aVal := int32(a[m*K+k]) - azp
			aVec := int32(aVal)
			baseIdx := k * N
			var n int
			for n = 0; n < N; n++ {
				for lane := range 1 {
					dequantBuf[lane] = int32(b[baseIdx+n+lane]) - bzp
				}
				bVec := dequantBuf[0]
				acc := accBuf[n]
				acc = aVec*bVec + acc
				accBuf[n] = acc
			}
			for ; n < N; n++ {
				accBuf[n] += aVal * (int32(b[baseIdx+n]) - bzp)
			}
		}
		copy(output[m*N:(m+1)*N], accBuf)
	}
}
