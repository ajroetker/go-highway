// Code generated by hwygen. DO NOT EDIT.
//go:build arm64

package sort

import (
	"github.com/ajroetker/go-highway/hwy/asm"
)

func BaseFloatToSortable_neon(data []float32) {
	n := len(data)
	lanes := 4
	signBitVec := asm.SignBitFloat32x4()
	zeroVec := asm.ZeroFloat32x4()
	allOnesVec := zeroVec.Not()
	i := 0
	for i+lanes <= n {
		v := asm.LoadFloat32x4Slice(data[i:])
		isNeg := v.LessThan(zeroVec)
		negResult := v.Xor(allOnesVec)
		posResult := v.Xor(signBitVec)
		result := asm.IfThenElse(isNeg, negResult, posResult)
		result.StoreSlice(data[i:])
		i += lanes
	}
}

func BaseFloatToSortable_neon_Float64(data []float64) {
	n := len(data)
	lanes := 2
	signBitVec := asm.SignBitFloat64x2()
	zeroVec := asm.ZeroFloat64x2()
	allOnesVec := zeroVec.Not()
	i := 0
	for i+lanes <= n {
		v := asm.LoadFloat64x2Slice(data[i:])
		isNeg := v.LessThan(zeroVec)
		negResult := v.Xor(allOnesVec)
		posResult := v.Xor(signBitVec)
		result := asm.IfThenElseFloat64(isNeg, negResult, posResult)
		result.StoreSlice(data[i:])
		i += lanes
	}
}

func BaseSortableToFloat_neon(data []float32) {
	n := len(data)
	lanes := 4
	signBitVec := asm.SignBitFloat32x4()
	zeroVec := asm.ZeroFloat32x4()
	allOnesVec := zeroVec.Not()
	i := 0
	for i+lanes <= n {
		v := asm.LoadFloat32x4Slice(data[i:])
		masked := v.And(signBitVec)
		wasPositive := masked.NotEqual(zeroVec)
		posResult := v.Xor(signBitVec)
		negResult := v.Xor(allOnesVec)
		result := asm.IfThenElse(wasPositive, posResult, negResult)
		result.StoreSlice(data[i:])
		i += lanes
	}
}

func BaseSortableToFloat_neon_Float64(data []float64) {
	n := len(data)
	lanes := 2
	signBitVec := asm.SignBitFloat64x2()
	zeroVec := asm.ZeroFloat64x2()
	allOnesVec := zeroVec.Not()
	i := 0
	for i+lanes <= n {
		v := asm.LoadFloat64x2Slice(data[i:])
		masked := v.And(signBitVec)
		wasPositive := masked.NotEqual(zeroVec)
		posResult := v.Xor(signBitVec)
		negResult := v.Xor(allOnesVec)
		result := asm.IfThenElseFloat64(wasPositive, posResult, negResult)
		result.StoreSlice(data[i:])
		i += lanes
	}
}
