//go:build !noasm && arm64
// Code generated by GoAT. DO NOT EDIT.
// versions:
// 	clang   21.1.8
// 	objdump 2.45.1
// flags: -march=armv9-a+sme -O3
// source: ../c/rabitq_sme_arm64.c

TEXT Â·rabitq_bit_product_sme(SB), $0-56
	MOVD code+0(FP), R0
	MOVD q1+8(FP), R1
	MOVD q2+16(FP), R2
	MOVD q3+24(FP), R3
	MOVD q4+32(FP), R4
	MOVD res+40(FP), R5
	MOVD plen+48(FP), R6
	WORD $0xf94000cc     // ldr	x12, [x6]
	WORD $0xd503477f     // smstart	sm
	WORD $0x04e0e3e8     // cntd	x8
	WORD $0xeb08019f     // cmp	x12, x8
	BGE  BB0_2
	WORD $0xd280000d     // mov	x13, #0                         ; =0x0
	WORD $0xd280000a     // mov	x10, #0                         ; =0x0
	WORD $0xd280000b     // mov	x11, #0                         ; =0x0
	WORD $0xd2800009     // mov	x9, #0                          ; =0x0
	WORD $0xd2800008     // mov	x8, #0                          ; =0x0
	WORD $0xeb0d018c     // subs	x12, x12, x13
	BGT  BB0_5
	B    BB0_7

BB0_2:
	WORD $0xd280000d // mov	x13, #0                         ; =0x0
	WORD $0x25f8c000 // mov	z0.d, #0                        ; =0x0
	WORD $0x25d8e3e0 // ptrue	p0.d
	WORD $0x25f8c004 // mov	z4.d, #0                        ; =0x0
	WORD $0x25f8c003 // mov	z3.d, #0                        ; =0x0
	WORD $0x25f8c002 // mov	z2.d, #0                        ; =0x0
	WORD $0x25f8c001 // mov	z1.d, #0                        ; =0x0

BB0_3:
	WORD $0xa5ed4005 // ld1d	{ z5.d }, p0/z, [x0, x13, lsl #3]
	WORD $0xa5ed4026 // ld1d	{ z6.d }, p0/z, [x1, x13, lsl #3]
	WORD $0xa5ed4047 // ld1d	{ z7.d }, p0/z, [x2, x13, lsl #3]
	WORD $0xa5ed4070 // ld1d	{ z16.d }, p0/z, [x3, x13, lsl #3]
	WORD $0xa5ed4091 // ld1d	{ z17.d }, p0/z, [x4, x13, lsl #3]
	WORD $0x042630a6 // and	z6.d, z5.d, z6.d
	WORD $0x042730a7 // and	z7.d, z5.d, z7.d
	WORD $0x043030b0 // and	z16.d, z5.d, z16.d
	WORD $0x043130a5 // and	z5.d, z5.d, z17.d
	WORD $0x04daa0c6 // cnt	z6.d, p0/m, z6.d
	WORD $0x04daa0e7 // cnt	z7.d, p0/m, z7.d
	WORD $0x04daa210 // cnt	z16.d, p0/m, z16.d
	WORD $0x04daa0a5 // cnt	z5.d, p0/m, z5.d
	WORD $0x04e60084 // add	z4.d, z4.d, z6.d
	WORD $0x04e70063 // add	z3.d, z3.d, z7.d
	WORD $0x04f00042 // add	z2.d, z2.d, z16.d
	WORD $0x04e50021 // add	z1.d, z1.d, z5.d
	WORD $0x04f0e3ed // incd	x13
	WORD $0xaa0d03e8 // mov	x8, x13
	WORD $0x04f0e3e8 // incd	x8
	WORD $0xeb0c011f // cmp	x8, x12
	BLE  BB0_3
	WORD $0x04c12080 // uaddv	d0, p0, z4.d
	WORD $0x9e660008 // fmov	x8, d0
	WORD $0x04c12060 // uaddv	d0, p0, z3.d
	WORD $0x9e660009 // fmov	x9, d0
	WORD $0x04c12040 // uaddv	d0, p0, z2.d
	WORD $0x9e66000b // fmov	x11, d0
	WORD $0x04c12020 // uaddv	d0, p0, z1.d
	WORD $0x9e66000a // fmov	x10, d0
	WORD $0xeb0d018c // subs	x12, x12, x13
	BLE  BB0_7

BB0_5:
	WORD $0xd37df1b1 // lsl	x17, x13, #3
	WORD $0x8b11008d // add	x13, x4, x17
	WORD $0x8b11006e // add	x14, x3, x17
	WORD $0x8b11004f // add	x15, x2, x17
	WORD $0x8b110030 // add	x16, x1, x17
	WORD $0x8b110011 // add	x17, x0, x17
	WORD $0x25d8e3e0 // ptrue	p0.d

BB0_6:
	WORD $0xf8408620 // ldr	x0, [x17], #8
	WORD $0xf8408601 // ldr	x1, [x16], #8
	WORD $0x8a000021 // and	x1, x1, x0
	WORD $0x9e670020 // fmov	d0, x1
	WORD $0x04daa000 // cnt	z0.d, p0/m, z0.d
	WORD $0x9e660001 // fmov	x1, d0
	WORD $0x8b080028 // add	x8, x1, x8
	WORD $0xf84085e1 // ldr	x1, [x15], #8
	WORD $0x8a000021 // and	x1, x1, x0
	WORD $0x9e670020 // fmov	d0, x1
	WORD $0x04daa000 // cnt	z0.d, p0/m, z0.d
	WORD $0x9e660001 // fmov	x1, d0
	WORD $0x8b090029 // add	x9, x1, x9
	WORD $0xf84085c1 // ldr	x1, [x14], #8
	WORD $0x8a000021 // and	x1, x1, x0
	WORD $0x9e670020 // fmov	d0, x1
	WORD $0x04daa000 // cnt	z0.d, p0/m, z0.d
	WORD $0x9e660001 // fmov	x1, d0
	WORD $0x8b0b002b // add	x11, x1, x11
	WORD $0xf84085a1 // ldr	x1, [x13], #8
	WORD $0x8a000020 // and	x0, x1, x0
	WORD $0x9e670000 // fmov	d0, x0
	WORD $0x04daa000 // cnt	z0.d, p0/m, z0.d
	WORD $0x9e660000 // fmov	x0, d0
	WORD $0x8b0a000a // add	x10, x0, x10
	WORD $0xf100058c // subs	x12, x12, #1
	BNE  BB0_6

BB0_7:
	WORD $0xd37ef56b // lsl	x11, x11, #2
	WORD $0x8b0a0d6a // add	x10, x11, x10, lsl #3
	WORD $0x8b090549 // add	x9, x10, x9, lsl #1
	WORD $0x8b080128 // add	x8, x9, x8
	WORD $0xf90000a8 // str	x8, [x5]
	WORD $0xd503467f // smstop	sm
	RET
